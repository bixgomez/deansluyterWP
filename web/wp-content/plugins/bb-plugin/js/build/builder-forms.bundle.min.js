/*! For license information please see builder-forms.bundle.min.js.LICENSE.txt */
(()=>{var e={942:(e,t)=>{var l;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=o(e,r(l)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var l in e)n.call(e,l)&&e[l]&&(t=o(t,l));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(l=function(){return i}.apply(t,[]))||(e.exports=l)}()}},t={};function l(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";l.d(n,{w:()=>Y});var e={};l.r(e),l.d(e,{FormsManager:()=>J,canDeferField:()=>E,canDeferTab:()=>$,focusFirstSettingsControl:()=>q,getFormElement:()=>D,initEvents:()=>X});const t=FL.controls,i=React;var r=l.n(i);const o=FL.symbols,s={},a=(0,i.createContext)(s),d=()=>(0,i.useContext)(a),c=ReactDOM,u=wp.hooks;var f=l(942),p=l.n(f);function m(e){if(void 0===window.parent.FLBuilderStrings)return e;var t=window.parent.FLBuilderStrings.i18n;return void 0!==t[e]?t[e]:(console.warn('No translation found for "'+e+'" Please add string to FLBuilderStrings.i18n object in includes/ui-js-config.php'),e)}const g=({name:e,value:l,setValue:n,showAlpha:o,showReset:s,inputElement:a,supportsConnections:d=!1})=>{const c=(0,i.useRef)(),u=(e=>!CSS.supports("color",e)&&CSS.supports("color","#"+e)?"#"+e:e)(l);return(0,i.useEffect)(()=>{const e=function(e,t){"removeConnection"===t?.source&&n(this.value)},t=jQuery(a);return t.on("change",e),()=>t.off("change",e)},[a,n]),r().createElement(t.Color.Picker,{ref:c,value:u,onChange:n,showAlpha:o,showReset:s,buttonProps:{style:{flexGrow:1}},onConnect:d?({uid:t,isGlobalColor:l})=>{if(void 0!==FLThemeBuilderFieldConnections){const n=l?"global_color_"+t:"theme_color_"+t,i=FLBuilderConfig.globalColorLabels[n];FLThemeBuilderFieldConnections._connectField(jQuery(a),i,{property:n,object:"site",field:e,settings:null}),c.current.close()}}:null})},{forEach:b}=FL.Builder.utils.objects,h={node:{label:"Child Element",content:(0,i.forwardRef)(({state:e,style:l},n)=>r().createElement(t.Series.TitleCard,{ref:n,style:{paddingLeft:20,...l},title:e.settings.type,thumbProps:{style:{}},onDoubleClick:()=>{const{displaySettings:t}=FL.Builder.data.getLayoutActions();t(e.node)}}))}},y={name:"children",label:"Children",content:(0,i.memo)(()=>{const{config:e}=d(),{id:l,type:n,isNode:i,nodeId:o}=e,{getLayoutActions:s,getLayoutHooks:a,getSystemConfig:c}=FL.Builder.data,{deleteNode:u,copyNode:f}=FL.Builder.getActions(),{reorderChildren:p}=s(),{useNodeChildren:m}=a(),g=m(e.nodeId).map(e=>({id:e.node,type:"node",state:e}));return i?r().createElement(r().Fragment,null,r().createElement(t.Series,{definitions:h,items:g,setItems:t=>p(e.nodeId,t.map(e=>e.id)),deleteItem:u,cloneItem:f,canReset:!1,customAddMenu:({closeMenu:e})=>("module"===n&&c().contentItems.module.find(e=>e.slug===l).accepts,b({button:{label:"Button",nodeType:"button"},photo:{label:"Photo",nodeType:"photo"}},(t,{label:l,nodeType:n})=>r().createElement("li",{key:t},r().createElement("button",{onClick:()=>{console.log(`create ${n} child of ${o}`),e()}},l))))})):null},()=>!0)},v={...t.fieldTypes,children:y};(0,u.addFilter)("fl_builder_settings_field_type","fl-builder",(e,t)=>Object.keys(v).includes(t)?v[t].content:e);const E=e=>Object.keys(v).includes(e.type);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},S.apply(null,arguments)}const{forEach:w}=FL.Builder.utils.objects,F=({fieldData:e})=>{const{config:t}=d();let l=[],n="",i=null,o=FLBuilderStrings.enableComponentEditing;return t.global&&t.dynamicEditing&&(n="dashicons-admin-plugins","object"==typeof t.settings.dynamic_fields&&t.settings.dynamic_fields?.fields&&(l=t.settings.dynamic_fields.fields,l.includes(e.rootName)&&(n+=" fl-dynamic-node-field-enabled",o=FLBuilderStrings.disableComponentEditing)),"form"===e.field.type&&(n="",o=null),i=r().createElement("i",{className:`fl-dynamic-node-field dashicons fl-tip ${n}`,title:o,"data-target-field":e.name,"data-target-field-type":e.field.type})),i},j=({renderMode:e,fields:t,tabId:l,sectionId:n,filterFieldData:i=e=>e})=>{const{uuid:o,getFieldElement:s,getFormElement:a,settings:u,setSetting:f,config:p}=d(),{responsiveFields:m,global:g}=FLBuilderConfig;return w(t,(t,d)=>{if(!d||!d.type)return null;const b=!!d.multiple,h=m.includes(d.type);let y=null;d.responsive&&g.responsive_enabled&&!b&&h&&(y=d.responsive);let v=i({tabId:l,sectionId:n,field:d,name:t,rootName:t,value:void 0!==u[t]?u[t]:d.default,preview:d.preview?d.preview:{type:"refresh"},responsive:y,rowClass:d.row_class?" "+d.row_class:"",isMultiple:b,supportsMultiple:"editor"!==d.type&&"service"!==d.type,settings:u,globalSettings:g,node:{type:p.id},setSetting:f,setValue:e=>f(t,e)});v={...v,getFieldElement:s,getFormElement:a,devices:["default","large","medium","responsive"]};const w=o+l+n+t;if(!E(v.field,v))return["typography","border","gradient","fl-price-feature","global-color"].includes(d.type)?r().createElement(_,S({key:w},v)):null;if("portals"===e){const e=s(t);return e?(0,c.createPortal)(r().createElement(N,v),e,w):null}return r().createElement(N,v)})},N=e=>{const{addField:l}=FLBuilderStrings;if(e.isMultiple&&e.supportsMultiple){let n=e.value,i=n;if(void 0===n.length){let e=[];for(let t in n)e.push(n[t]);i=e}return e.name+="[]",i.map((n,i)=>(e.index=i,e.value=n,r().createElement(t.Error.Boundary,{key:i},r().createElement("tr",{className:"fl-builder-field-multiple","data-field":e.rootName},r().createElement(C,e),r().createElement("td",{className:"fl-builder-field-actions"},r().createElement("i",{className:"fl-builder-field-move fas fa-arrows-alt"}),r().createElement("i",{className:"fl-builder-field-copy far fa-copy"}),r().createElement("i",{className:"fl-builder-field-delete fas fa-times"}))),r().createElement("tr",null,!e.field.label&&r().createElement("td",{colSpan:"2"}),e.field.label&&r().createElement(r().Fragment,null,r().createElement("td",null," "),r().createElement("td",null,r().createElement("a",{onClick:e=>e.preventDefault(),className:"fl-builder-field-add fl-builder-button","data-field":e.rootName},l.replace("%s",e.field.label))))))))}return r().createElement(t.Error.Boundary,null,r().createElement(C,e))},C=e=>{const l=wp.hooks.applyFilters("fl_builder_settings_field_type",()=>{},e.field.type,e),n=["color","background"].includes(e.field.type),i=r().createElement("i",{className:"fl-field-responsive-toggle dashicons dashicons-desktop","data-mode":"default"});return r().createElement(r().Fragment,null,e.field.label&&r().createElement("th",{className:"fl-field-label"},r().createElement("label",{htmlFor:e.name},"button"===e.field.type?" ":e.field.label,n&&r().createElement(F,{fieldData:e}),void 0!==e.index&&r().createElement("span",{className:"fl-builder-field-index"},parseInt(e.index)+1),e.responsive&&i,e.field.help&&r().createElement("span",{className:"fl-help-tooltip"},r().createElement("span",{className:"fl-help-tooltip-icon"},r().createElement("svg",{width:"12",height:"12"},r().createElement("use",{href:"#fl-question-mark"}))),r().createElement("span",{className:"fl-help-tooltip-text"},e.field.help)))),r().createElement("td",{className:"fl-field-control",colSpan:e.field.label?null:2},r().createElement("div",{className:"fl-field-control-wrapper"},e.responsive&&i,e.devices.map(n=>{if("default"!==n&&!e.responsive)return null;if(e.responsive){let i={...e};if(i.name="default"===n?i.rootName:i.rootName+"_"+n,i.value=i.settings[i.name]?i.settings[i.name]:"",i.setValue=e=>i.setSetting(i.name,e),"object"==typeof i.responsive)for(let e in i.responsive)"object"==typeof i.responsive[e]&&void 0!==i.responsive[e][n]&&(i.field[e]=i.responsive[e][n]);return r().createElement("div",{key:n,className:`fl-field-responsive-setting fl-field-responsive-setting-${n}`,"data-device":n},r().createElement(t.Error.Boundary,{alternate:I},r().createElement(l,i)))}return r().createElement(t.Error.Boundary,{key:n,alternate:I},r().createElement(l,e))}),e.field.description&&r().createElement("span",{className:"fl-field-description"},e.field.description))))},I=({...e})=>r().createElement(t.Error.DefaultError,S({title:m("Field Type Error"),style:{boxShadow:"0 0 0 1px #ffc5c5",background:"rgb(255 243 243)",color:"#cd0000",padding:16,borderRadius:"var(--fl-builder-radius)"}},e)),_=e=>{const{field:t,name:l,getFieldElement:n,devices:o,responsive:s,settings:a,setSetting:d}=e,u=(0,i.useRef)(null);u.current=n(l);const f={typography:{"[][text_shadow][][color]":{showAlpha:!0,showReset:!0,getValue:e=>e.text_shadow?.color,mapValue:(e,t)=>({...t,text_shadow:{...t.text_shadow,color:e}})}},border:{"[][color]":{showAlpha:!0,showReset:!0,getValue:e=>e.color,mapValue:(e,t)=>({...t,color:e})},"[][shadow][][color]":{showAlpha:!0,showReset:!0,getValue:e=>e.shadow?.color,mapValue:(e,t)=>({...t,shadow:{...t.shadow,color:e}})}},gradient:{"[][colors][0]":{showAlpha:!0,showReset:!0,getValue:e=>e.colors?.[0]?e.colors?.[0]:"",mapValue:(e,t)=>({...t,colors:[e,t.colors?.[1]]})},"[][colors][1]":{showAlpha:!0,showReset:!0,getValue:e=>e.colors?.[1]?e.colors?.[1]:"",mapValue:(e,t)=>({...t,colors:[t.colors?.[0],e]})}},"fl-price-feature":{},"global-color":{}};return Object.keys(f).includes(t.type)?o.map(e=>{if("default"!==e&&!s)return null;const n="default"===e?l:`${l}_${e}`,i=a[n]?a[n]:"";let o=f[t.type];return["fl-price-feature","global-color"].includes(t.type)&&Array.from(u.current?.children??[]).map((e,l)=>{if(e.matches(".fl-builder-field-multiple")){const i=e.querySelector("input.fl-color-picker-value");if(i){const e=i.getAttribute("name").replace(n,""),r="fl-price-feature"===t.type?"icon_color":"color";o[e]={showAlpha:!0,showReset:!0,getValue:e=>e[l][r],mapValue:(e,t)=>{let n=t;return Array.isArray(n)||(n=Object.keys(t).map(e=>t[e])),n.toSpliced(l,1,{...n[l],[r]:e})}}}}}),Object.entries(o).map(([e,l])=>{const{showAlpha:o,showReset:s,getValue:a,mapValue:f}=l,p=u.current?.querySelector(`input[name="${n+e}"]`);if(!p)return;const m=p.parentElement.querySelector(".picker-mount");return m?(0,c.createPortal)(r().createElement(g,{key:n+e,value:a(i),setValue:e=>{d(n,f(e,i)),p.value=e,jQuery(p).trigger("change")},showAlpha:o,showReset:s,name:n,inputElement:p,supportsConnections:"global-color"!==t.type}),m,n+e):void 0})}):null};function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},k.apply(null,arguments)}const{forEach:L}=FL.Builder.utils.objects,x=({tabId:e,sections:t,filterSection:l=e=>e,sectionComponent:n=A,filterFieldData:i=e=>e})=>L(t,(t,o)=>r().createElement(n,k({tabId:e,sectionId:t,filterFieldData:i},l(o,t,e)))),A=({tabId:e,sectionId:t,title:l,description:n,collapsed:i,fields:s,className:a,filterFieldData:d=e=>e})=>{const c=void 0!==l&&""!==l;let u=void 0!==i&&i;return c&&!0===FLBuilderConfig.collapseSectionsDefault&&(u=!0),r().createElement("div",{id:`fl-builder-settings-section-${t}`,className:p()({"fl-builder-settings-section":!0,"fl-builder-settings-section-collapsed":u},a)},c&&r().createElement("div",{className:"fl-builder-settings-section-header"},r().createElement("button",{className:"fl-builder-settings-title"},r().createElement(o.Caret,null),l)),r().createElement("div",{className:"fl-builder-settings-section-content"},n&&r().createElement("p",{className:"fl-builder-settings-description"},n),r().createElement("table",{className:"fl-form-table"},r().createElement(j,{tabId:e,sectionId:t,fields:s,filterFieldData:d}))))},B=({tabId:e,description:t,sections:l})=>r().createElement(r().Fragment,null,t&&r().createElement("p",{className:"fl-builder-settings-tab-description"},t),r().createElement(x,{tabId:e,sections:l}));function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},O.apply(null,arguments)}const{forEach:V}=FL.Builder.utils.objects,R=["auto_style"],$=e=>{const t=R.includes(e);return(0,u.applyFilters)("fl_builder_settings_can_defer_tab_render",t,e)},Q=()=>{const{config:e,getTabElement:l}=d();return V(e.tabs,(n,i)=>{if($(n)){const o=(0,u.applyFilters)("fl_builder_settings_tab_component",B,n,i,e),s=l(n);return s?(0,c.createPortal)(r().createElement(t.Error.Boundary,{key:n},r().createElement(o,O({tabId:n},i))),s):(console.warn("Could not find dom element for Tab",n),null)}return r().createElement(P,O({key:n,tabId:n},i))})},P=({tabId:e,sections:t={}})=>V(t,(t,l)=>r().createElement(T,O({key:e+t,tabId:e,sectionId:t},l))),T=({tabId:e,sectionId:t,fields:l})=>{const{uuid:n}=d();return r().createElement(j,{key:n+e+t,renderMode:"portals",fields:l,tabId:e,sectionId:t})},D=e=>{let t=".fl-builder-settings:visible";return e&&(t=`.fl-builder-settings[data-instance-id="${e}"]`),jQuery(t,window.parent.document)},M=e=>void 0!==e?e:D(),q=()=>{var e=jQuery(".fl-builder-settings:visible",window.parent.document),t=e.find(".fl-builder-settings-tab.fl-active"),l=e.data("node"),n=t.find(".fl-field").first(),i=n.find('input:not([type="hidden"]), textarea, select, button, a, .fl-editor-field').first(),r=i.find("textarea.wp-editor-area").attr("id");FL.Builder.utils.isBlockEditor()||l&&jQuery(".fl-node-"+l+" .fl-inline-editor").length||(void 0!==window.parent.tinyMCE&&i.hasClass("fl-editor-field")?window.parent.tinyMCE.get(r).focus():setTimeout(function(){i.trigger("focus").css("animation-name","fl-grab-attention")},300),n.css("animation-name","fl-grab-attention"),n.on("animationend",function(){n.css("animation-name","")}))},J=({onSetSetting:e=()=>{}})=>{const[t,l]=Y.useFormState();return r().createElement(r().Fragment,null,t.map((n,i)=>{const o=n.nodeId?n.nodeId+n.lightboxId:n.type+n.lightboxId;return r().createElement(G,{key:o,uuid:o,config:n,settings:n.settings,onSetSettings:e=>{return r={...n,settings:e},l(t.toSpliced(i,1,r));var r},onSetSetting:e})}),r().createElement(o.SymbolLibrary,null))},G=({uuid:e,config:t,settings:l,onSetSettings:n=()=>{},onSetSetting:o=()=>{}})=>{const s=(0,i.useRef)(l),d=()=>D(t.lightboxId).get(0),c={uuid:e,config:t,settings:l,initialSettings:s,setSettings:n,setSetting:(e,t)=>{n({...l,[e]:t}),o(e,t)},resetSettings:()=>n({...s}),getFormElement:d,getTabElement:e=>d()?.querySelector(`#fl-builder-settings-tab-${e}`),getFieldElement:e=>d()?.querySelector(`#fl-field-${e}`)};return r().createElement(a.Provider,{key:c.uuid,value:c},r().createElement(Q,null))},H=function(){const e=jQuery(this),t=e.closest("form.fl-builder-settings"),l=e.closest(".fl-builder-settings-tab"),n=l.attr("id").replace("fl-builder-settings-tab-",""),i=e.find(".fl-builder-settings-section-header"),r=e.attr("id").replace("fl-builder-settings-section-","");let o=t.attr("data-form-group"),s=t.attr("data-form-id");"fl-builder-settings-tab-advanced"===l.attr("id")&&(o="general",s="advanced");const a=z(o,s,n,r);null!==a&&(a?e.addClass("fl-builder-settings-section-collapsed"):e.removeClass("fl-builder-settings-section-collapsed")),i.on("click",function(){e.hasClass("fl-builder-settings-section-collapsed")?(e.removeClass("fl-builder-settings-section-collapsed"),K(o,s,n,r,!1)):(e.addClass("fl-builder-settings-section-collapsed"),K(o,s,n,r,!0))})},z=(e,t,l,n)=>{let i=localStorage.getItem("fl-builder-settings-sections");return i?(i=JSON.parse(i),void 0!==i?.[e]?.[t]?.[l]?.[n]?i[e][t][l][n]:null):null},K=(e,t,l,n,i)=>{let r=localStorage.getItem("fl-builder-settings-sections");r=r?JSON.parse(r):{},r[e]??={},r[e][t]??={},r[e][t][l]??={},r[e][t][l][n]=i,localStorage.setItem("fl-builder-settings-sections",JSON.stringify(r))},U=function(){var e=jQuery(this),t=e.find(".fl-button-group-field-option"),l=e.data("multiple"),n=e.data("min"),i=e.data("max"),r=e.find("input:not(.fl-preview-ignore)"),o=!!e.data("allowEmpty"),s=function(e){var l=[];return t.each(function(e,t){"1"===jQuery(t).attr("data-selected")&&l.push(jQuery(t).attr("data-value"))}),"array"==e?l:l.join(",")};t.on("click",function(e){e.preventDefault();var a=jQuery(this),d=s("array").length,c="1"===a.attr("data-selected");!o&&c||(c?(0==n||d-1>=n)&&a.attr("data-selected","0"):(!0!==l&&t.attr("data-selected","0"),(0==i||d+1<=i)&&a.attr("data-selected","1")),r.val(s("")).trigger("change"))}),r.on("change",function(){var e=r.val().split(",");!0!==l&&t.attr("data-selected","0"),jQuery.each(e,function(e,l){t.filter('[data-value="'+l+'"]').attr("data-selected","1")})})},W=function(){var e=jQuery(this),t=e.find(".fl-compound-field-section"),l=e.find(".fl-compound-field-section-toggle"),n=e.find(".fl-compound-field-setting").has(".fl-dimension-field-units");t.each(function(){var e=jQuery(this);e.find(".fl-compound-field-section-toggle").length||e.addClass("fl-compound-field-section-visible")}),l.on("click",function(){var e=jQuery(this),t=e.closest(".fl-field"),l="."+e.closest(".fl-compound-field-section").attr("class").split(" ").join(".");t.find(l).toggleClass("fl-compound-field-section-visible")}),n.each(function(){var e=jQuery(this),t=e.find(".fl-compound-field-label");t.length&&!e.find(".fl-shadow-field").length&&t.append('<i class="fl-dimension-field-link fl-tip dashicons dashicons-admin-links" title="Link Values"></i>')})},X=e=>{const t=M(e);M(t).find(".fl-builder-settings-section").each(H),M(t).find(".fl-button-group-field").each(U),(e=>{M(e).find(".fl-compound-field").each(W)})(t)},Y=(0,t.createFormStore)();Object.getPrototypeOf(FL.Builder).settingsForms={FieldController:class{rootName="";form=null;field=null;inputs={};constructor(e,t={}){this.rootName=e;const l=`form[data-form-id="${t.id}"]`;this.form=jQuery(l).get(0),this.field=this.form?.querySelector(`.fl-field#fl-field-${e}`),this.field&&(this.inputs=this.getInputs(this.rootName))}getInputs(){const e=this.rootName,t={};return this.field&&["default","large","medium","responsive"].map(l=>{const n="default"!==l?`${e}_${l}`:e;t[l]=this.field?.querySelector(`[name="${n}"]`)}),t}getValues(){let e={};for(const t in this.inputs)e[t]=this.inputs[t]?this.inputs[t].value:null;return e}isResponsive(){return!!this.field?.querySelector(".fl-field-responsive-setting")}getInheritedValue(e=""){const t="default"===e||""===e,l=this.getValues();if(!this.isResponsive()||t)return l.default;if("large"===e){if(""!==l.default)return l.default}else if("medium"===e){if(""!==l.large)return l.large;if(""!==l.default)return l.default}else{if(""!==l.medium)return l.medium;if(""!==l.large)return l.large;if(""!==l.default)return l.default}}setValue(e,t=""){const l=this.inputs[t];l&&this.setInputAndTrigger(l,e)}setSubValue(e,t,l=""){const n="default"!==l&&""!==l?`${this.rootName}_${l}`:this.rootName,i=this.field?.querySelectorAll(`[name="${n}${e}"]`);i&&0<i.length&&i.forEach(e=>{this.setInputAndTrigger(e,t)})}setInputAndTrigger(e,t){"radio"===e.getAttribute("type")?t===e.value?(e.setAttribute("checked",""),jQuery(e).trigger("change"),e.dispatchEvent(new Event("change"))):e.removeAttribute("checked"):(e.value=t,jQuery(e).trigger("change"),e.dispatchEvent(new Event("change")))}},state:Y,...e}})()})();