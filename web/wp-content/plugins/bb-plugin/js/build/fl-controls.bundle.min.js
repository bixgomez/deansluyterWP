/*! For license information please see fl-controls.bundle.min.js.LICENSE.txt */
(()=>{var e={942:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=l(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=l(t,r));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{Ob:()=>x,K6:()=>M,MY:()=>R});var t={};r.r(t),r.d(t,{Picker:()=>pa,Provider:()=>ca,Swatch:()=>I,getComputedValue:()=>Gn,getMetadata:()=>qn,use:()=>ia});var n={};r.r(n),r.d(n,{Input:()=>Ea,Range:()=>ya,getCSS:()=>Ca});var a={};r.r(a),r.d(a,{dotsOne:()=>Co,rings:()=>vo,stripes:()=>wo,sunburst:()=>Eo,triangles:()=>So});var o={};r.r(o),r.d(o,{Input:()=>Po,getCSS:()=>ko});var l={};r.r(l),r.d(l,{background:()=>zo,color:()=>Ao});const s=React;var i=r.n(s);const c=Redux,u=(e,t)=>{switch(t.type){case"SET_STATE":return{...t.state};case"SET_COLOR_PRESETS":return{...e,color:{...e.color,presets:t.presets}};case"SET_BACKGROUND_PRESETS":return{...e,backgrounds:{...e.backgrounds,presets:t.presets}};case"ADD_ATTACHMENT_SIZES":return{...e,attachmentSizes:{...e.attachmentSizes,[t.id]:t.sizes}};default:return{...e,color:{...e.color,presets:e.color.presets}}}},d={color:{presets:[]},backgrounds:{presets:[]},attachmentSizes:{}},{useControlsStore:p}=((e="fl-controls",t=d)=>{const r=(0,c.createStore)(u,t),n={setState:e=>r.dispatch({type:"SET_STATE",state:e}),async addColorPreset(e){const t=await wp.apiFetch({path:"/fl-controls/v1/color_presets",method:"POST",data:{addPresets:[e]}});return r.dispatch({type:"SET_COLOR_PRESETS",presets:t.presets})},async deleteColorPreset(e){const t=await wp.apiFetch({path:"/fl-controls/v1/color_presets",method:"DELETE",data:{deletePresets:[e]}});return r.dispatch({type:"SET_COLOR_PRESETS",presets:t.presets})},clearColorPresets:async()=>(await wp.apiFetch({path:"/fl-controls/v1/color_presets",method:"POST",data:{clearPresets:!0}}),r.dispatch({type:"SET_COLOR_PRESETS",presets:[]})),async addBackgroundPreset(e){const t=await wp.apiFetch({path:"/fl-controls/v1/background_presets",method:"POST",data:{addPresets:[e]}});return r.dispatch({type:"SET_BACKGROUND_PRESETS",presets:t.presets})},addSizesForAttachment:(e,t={})=>r.dispatch({type:"ADD_ATTACHMENT_SIZES",id:e,sizes:t})};requestIdleCallback(async()=>{const e=await wp.apiFetch({path:"/fl-controls/v1/state",method:"GET"});n.setState({...t,...e})});const a=e=>({colorPresets:e.color.presets,colorSets:e.color.sets,backgroundPresets:e.backgrounds.presets,attachmentSizes:e.attachmentSizes});return{useControlsStore:()=>{const e=r.getState(),[t,o]=(0,s.useState)(a(e));return(0,s.useEffect)(()=>r.subscribe(()=>o(a(r.getState()))),[]),{...t,...n,getSizesForAttachment:async e=>{if(void 0!==t.attachmentSizes[e])return t.attachmentSizes[e];{const t=await wp.apiFetch({path:"/fl-controls/v1/attachment_sizes?id="+e,method:"GET"});return n.addSizesForAttachment(e,t.sizes),t.sizes}}}}}})(),m=FL.symbols;var g=r(942),f=r.n(g);function h(e){if(void 0===window.parent.FLBuilderStrings)return e;var t=window.parent.FLBuilderStrings.i18n;return void 0!==t[e]?t[e]:(console.warn('No translation found for "'+e+'" Please add string to FLBuilderStrings.i18n object in includes/ui-js-config.php'),e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(null,arguments)}const y=({error:e,title:t=h("There seems to be an error"),children:r,style:n={},...a})=>{const o={display:"flex",flexDirection:"column",flex:"1 1 auto",justifyContent:"center",alignItems:"center",padding:8,gap:16,textAlign:"center",minHeight:0,maxHeight:"100%",lineBreak:"anywhere",...n};return i().createElement("div",b({style:o},a),i().createElement("div",{style:{color:"inherit",fontSize:14}},t),i().createElement("code",{style:{color:"inherit"}},e.message),r)};class v extends s.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){const{alternate:e=y,children:t,...r}=this.props,{hasError:n,error:a}=this.state;return n?(0,s.createElement)(e,{error:a,...r}):t}}const w={Boundary:v,DefaultError:y};function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(null,arguments)}const C=(0,s.forwardRef)(({className:e,children:t,position:r,tabs:n,appearance:a="panel",enableViewTransitions:o=!1,style:l,...c},u)=>{const d=(0,s.useRef)(null),p=((e=()=>{})=>{const t=(0,s.useRef)(null);return{onPointerDown:({pageX:e,pageY:r})=>t.current={pageX:e,pageY:r},onMouseMove:e=>e.stopPropagation(),onKeyUp:t=>{"Escape"===t.key&&e(t),t.stopPropagation()},onClick:r=>{!(e=>{if(!t.current)return!1;const{pageX:r,pageY:n}=t.current,{top:a,left:o,width:l,height:s}=e.target.getBoundingClientRect(),{pageYOffset:i,pageXOffset:c}=window,u=a+i,d=o+c;return r>=d&&r<=d+l&&n>=u&&n<=u+s})(r)&&r.target.matches("dialog")&&(e(r),r.stopPropagation())}}})(()=>d.current?.close());return(0,s.useImperativeHandle)(u,()=>{const e=d.current.showModal;return d.current.showModal=()=>{e.call(d.current),requestAnimationFrame(()=>d.current.dispatchEvent(new Event("show")))},d.current},[d.current]),(0,s.useEffect)(()=>{if(d.current){const e=e=>{let t={};"function"==typeof r&&(t=r({dialog:d.current},e)),((e,t={})=>{if(e)for(let r in t)e.style[r]=t[r]})(d.current,t)};return d.current?.addEventListener("show",e),()=>d.current?.removeEventListener("show",e)}},[d.current,r]),i().createElement("dialog",E({ref:d,className:f()({"fl-controls-dialog":!0,[`fl-appearance-${a}`]:a,"uses-view-transitions":void 0!==document.startViewTransition&&o},e),style:l},p,c),i().createElement(w.Boundary,null,t))}),S=e=>e.stopPropagation();function M(e,t,r,n=1){let a=Math.max(e,t,r),o=Math.min(e,t,r),[l,s,i]=[0,0,(o+a)/2],c=a-o;if(0!==c){switch(s=0===i||1===i?0:(a-i)/Math.min(i,1-i),a){case e:l=(t-r)/c+(t<r?6:0);break;case t:l=(r-e)/c+2;break;case r:l=(e-t)/c+4}l*=60}return s<0&&(l+=180,s=Math.abs(s)),l>=360&&(l-=360),[parseInt(l),(100*s).toFixed(2),(100*i).toFixed(2),n]}function R(e,t,r,n=1){var a=M(e,t,r),o=Math.min(e,t,r),l=1-Math.max(e,t,r);return[parseFloat(a[0].toFixed(2)),(100*o).toFixed(2),(100*l).toFixed(2),n]}const x=(e,t,r)=>"#"+((e<<16)+(t<<8)+r).toString(16).padStart(6,"0"),k=(e,t,r)=>Math.max(Math.min(e,Math.max(t,r)),Math.min(t,r)),N=(e,t,r,n,a)=>(e-t)*(a-n)/(r-t)+n;function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(null,arguments)}const O=(0,s.forwardRef)(({button:e="button",label:t="Button",children:r,className:n,appearance:a,buttonProps:o={},dialogProps:l={},position:c,enableViewTransitions:u=!1,tabs:d},p)=>{const m=(0,s.useRef)(null),g=(0,s.useRef)(null),h=()=>{const e=()=>g.current?.close(),t=window.top.document;u&&t.startViewTransition&&t.startViewTransition(e).ready.then(()=>{g.current.animate({scale:[1,.25]},{duration:500,easing:"ease-in"})}),e()},b=()=>{const e=()=>g.current?.showModal(),t=window.top.document;u&&t.startViewTransition&&t.startViewTransition(e).ready.then(()=>{g.current.animate({scale:[.25,1]},{duration:500,easing:"ease-in"})}),e()},y=()=>{g.current&&g.current.open?h():b()};return(0,s.useImperativeHandle)(p,()=>({button:m.current,dialog:g.current,showModal:b,close:h,toggle:y}),[m.current,g.current,b,h,y]),i().createElement(i().Fragment,null,i().createElement(e,P({ref:m,as:"div",className:f()("fl-controls-dialog-button",n),onClick:y},o),t),i().createElement(C,P({ref:g,appearance:a,position:({dialog:e},t)=>{let r={};if(m.current&&e){const n=m.current?.getBoundingClientRect(),{clientWidth:a,clientHeight:o}=e,{innerHeight:l,innerWidth:s}=window.top,i=32,u=n.left-(a+i),d=n.top;return r={bottom:"auto",right:"auto",left:k(u,0+i,s-a-i)+"px",top:k(d,0+i,l-o-i)+"px",transformOrigin:a-n.width/2+"px top"},"function"==typeof c&&(r=c({dialog:e,dialogRect:{width:a,height:o},button:m.current,buttonRect:n,styles:r},t)),r}},enableViewTransitions:u,tabs:d},l),r))}),$=O;function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(null,arguments)}C.Button=$;const j=({className:e,onChange:t=()=>{},...r})=>{const[n,a]=(0,s.useState)(!1);return void 0===window.EyeDropper?null:i().createElement("button",B({className:f()("fl-controls-color-eyedropper",e),onClick:async()=>{const e=new EyeDropper,r=await e.open();r.sRGBHex&&t(r.sRGBHex)}},r),i().createElement(m.Crosshair,null))},L=e=>{const t=window.parent.document.getElementById("fl-builder-ui-iframe");if(t&&e.startsWith("var(")){const r=t.contentDocument||t.contentWindow.document,n=r.createElement("div");n.style.color=e,r.body.appendChild(n);const a=r.defaultView.getComputedStyle(n);e=a.color?a.color:e,r.body.removeChild(n)}return e};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(null,arguments)}const A=({as:e="div",title:t,className:r,children:n,appearance:a="swatches",accessories:o,...l})=>i().createElement(e,T({className:f()({"fl-controls-swatch-group":!0,[`fl-appearance-${a}`]:a},r)},l),t&&i().createElement("div",{className:"fl-controls-swatch-group-heading"},i().createElement("span",null,t),o),n),I=({as:e="div",value:t,className:r,style:n,onClick:a,children:o,...l})=>{let s="function"==typeof a?"button":e;return i().createElement(s,T({className:f()("fl-control","fl-controls-color-swatch",r),style:{"--color":CSS.supports("color",t)?L(t):null,...n},onClick:a},l),o)};function z(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(e=>[e]));let n=t[0].length,a=t[0].map((e,r)=>t.map(e=>e[r])),o=e.map(e=>a.map(t=>{let r=0;if(!Array.isArray(e)){for(let n of t)r+=e*n;return r}for(let n=0;n<e.length;n++)r+=e[n]*(t[n]||0);return r}));return 1===r&&(o=o[0]),1===n?o.map(e=>e[0]):o}function _(e){return"string"===F(e)}function F(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function D(e,{precision:t,unit:r}){return H(e)?"none":q(e,t)+(r??"")}function H(e){return Number.isNaN(e)||e instanceof Number&&e?.none}function G(e){return H(e)?0:e}function q(e,t){if(0===e)return 0;let r=~~e,n=0;r&&t&&(n=1+~~Math.log10(Math.abs(r)));const a=10**(t-n);return Math.floor(e*a+.5)/a}const W={deg:1,grad:.9,rad:180/Math.PI,turn:360};function V(e){if(!e)return;e=e.trim();const t=/^-?[\d.]+$/,r=/%|deg|g?rad|turn$/,n=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let a=e.match(/^([a-z]+)\((.+?)\)$/i);if(a){let e=[];return a[2].replace(n,(n,a)=>{let o=a.match(r),l=a;if(o){let e=o[0],t=l.slice(0,-e.length);"%"===e?(l=new Number(t/100),l.type="<percentage>"):(l=new Number(t*W[e]),l.type="<angle>",l.unit=e)}else t.test(l)?(l=new Number(l),l.type="<number>"):"none"===l&&(l=new Number(NaN),l.none=!0);n.startsWith("/")&&(l=l instanceof Number?l:new Number(l),l.alpha=!0),"object"==typeof l&&l instanceof Number&&(l.raw=a),e.push(l)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:e}}}function X(e){return e[e.length-1]}function Y(e,t,r){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*r}function Z(e,t,r){return(r-e)/(t-e)}function J(e,t,r){return Y(t[0],t[1],Z(e[0],e[1],r))}function U(e){return e.map(e=>e.split("|").map(e=>{let t=(e=e.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(t){let e=new String(t[1]);return e.range=[+t[2],+t[3]],e}return e}))}function K(e,t,r){return Math.max(Math.min(r,t),e)}function Q(e,t){return Math.sign(e)===Math.sign(t)?e:-e}function ee(e,t){return Q(Math.abs(e)**t,e)}function te(e,t){return 0===t?0:e/t}function re(e,t,r=0,n=e.length){for(;r<n;){const a=r+n>>1;e[a]<t?r=a+1:n=a}return r}var ne=Object.freeze({__proto__:null,bisectLeft:re,clamp:K,copySign:Q,interpolate:Y,interpolateInv:Z,isNone:H,isString:_,last:X,mapRange:J,multiplyMatrices:z,parseCoordGrammar:U,parseFunction:V,serializeNumber:D,skipNone:G,spow:ee,toPrecision:q,type:F,zdiv:te});const ae=new class{add(e,t,r){if("string"==typeof arguments[0])(Array.isArray(e)?e:[e]).forEach(function(e){this[e]=this[e]||[],t&&this[e][r?"unshift":"push"](t)},this);else for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1])}run(e,t){this[e]=this[e]||[],this[e].forEach(function(e){e.call(t&&t.context?t.context:t,t)})}};var oe={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"test"!==globalThis?.process?.env?.NODE_ENV?.toLowerCase(),warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}};const le={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function se(e){return Array.isArray(e)?e:le[e]}function ie(e,t,r,n={}){if(e=se(e),t=se(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${e||t?"":"/"}${t?"":"to"}`);if(e===t)return r;let a={W1:e,W2:t,XYZ:r,options:n};if(ae.run("chromatic-adaptation-start",a),a.M||(a.W1===le.D65&&a.W2===le.D50?a.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:a.W1===le.D50&&a.W2===le.D65&&(a.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),ae.run("chromatic-adaptation-end",a),a.M)return z(a.M,a.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const ce=new Set(["<number>","<percentage>","<angle>"]);function ue(e,t,r,n){let a=Object.entries(e.coords).map(([e,a],o)=>{let l,s=t.coordGrammar[o],i=n[o],c=i?.type;if(l=i.none?s.find(e=>ce.has(e)):s.find(e=>e==c),!l){let t=a.name||e;throw new TypeError(`${c??i.raw} not allowed for ${t} in ${r}()`)}let u=l.range;"<percentage>"===c&&(u||=[0,1]);let d=a.range||a.refRange;return u&&d&&(n[o]=J(u,d,n[o])),l});return a}function de(e,{meta:t}={}){let r={str:String(e)?.trim()};if(ae.run("parse-start",r),r.color)return r.color;if(r.parsed=V(r.str),r.parsed){let e=r.parsed.name;if("color"===e){let e=r.parsed.args.shift(),n=e.startsWith("--")?e.substring(2):`--${e}`,a=[e,n],o=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let n of me.all){let l=n.getFormat("color");if(l&&(a.includes(l.id)||l.ids?.filter(e=>a.includes(e)).length)){const a=Object.keys(n.coords).map((e,t)=>r.parsed.args[t]||0);let s;return l.coordGrammar&&(s=ue(n,l,"color",a)),t&&Object.assign(t,{formatId:"color",types:s}),l.id.startsWith("--")&&!e.startsWith("--")&&oe.warn(`${n.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${l.id}) instead of color(${e}).`),e.startsWith("--")&&!l.id.startsWith("--")&&oe.warn(`${n.name} is a standard space and supported in the CSS spec. Use color(${l.id}) instead of prefixed color(${e}).`),{spaceId:n.id,coords:a,alpha:o}}}let l="",s=e in me.registry?e:n;if(s in me.registry){let e=me.registry[s].formats?.color?.id;e&&(l=`Did you mean color(${e})?`)}throw new TypeError(`Cannot parse color(${e}). `+(l||"Missing a plugin?"))}for(let n of me.all){let a=n.getFormat(e);if(a&&"function"===a.type){let o=1;(a.lastAlpha||X(r.parsed.args).alpha)&&(o=r.parsed.args.pop());let l,s=r.parsed.args;return a.coordGrammar&&(l=ue(n,a,e,s)),t&&Object.assign(t,{formatId:a.name,types:l}),{spaceId:n.id,coords:s,alpha:o}}}}else for(let e of me.all)for(let n in e.formats){let a=e.formats[n];if("custom"!==a.type)continue;if(a.test&&!a.test(r.str))continue;let o=a.parse(r.str);if(o)return o.alpha??=1,t&&(t.formatId=n),o}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function pe(e){if(Array.isArray(e))return e.map(pe);if(!e)throw new TypeError("Empty color reference");_(e)&&(e=de(e));let t=e.space||e.spaceId;return t instanceof me||(e.space=me.get(t)),void 0===e.alpha&&(e.alpha=1),e}class me{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?me.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let t=e.coords??this.base.coords;for(let e in t)"name"in t[e]||(t[e].name=e);this.coords=t;let r=e.white??this.base.white??"D65";this.white=se(r),this.formats=e.formats??{};for(let e in this.formats){let t=this.formats[e];t.type||="function",t.name||=e}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:e.cssId||this.id}),e.gamutSpace?this.gamutSpace="self"===e.gamutSpace?this:me.get(e.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(e,t)=>!0),this.referred=e.referred,Object.defineProperty(this,"path",{value:ge(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),ae.run("colorspace-init-end",this)}inGamut(e,{epsilon:t=75e-6}={}){if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:t});let r=Object.values(this.coords);return e.every((e,n)=>{let a=r[n];if("angle"!==a.type&&a.range){if(Number.isNaN(e))return!0;let[r,n]=a.range;return(void 0===r||e>=r-t)&&(void 0===n||e<=n+t)}return!0})}get isUnbounded(){return Object.values(this.coords).every(e=>!("range"in e))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let e in this.coords)if("angle"===this.coords[e].type)return!0;return!1}getFormat(e){if("object"==typeof e)return fe(e,this);let t;return t="default"===e?Object.values(this.formats)[0]:this.formats[e],t?(t=fe(t,this),t):null}equals(e){return!!e&&(this===e||this.id===e||this.id===e.id)}to(e,t){if(1===arguments.length){const r=pe(e);[e,t]=[r.space,r.coords]}if(e=me.get(e),this.equals(e))return t;t=t.map(e=>Number.isNaN(e)?0:e);let r,n,a=this.path,o=e.path;for(let e=0;e<a.length&&a[e].equals(o[e]);e++)r=a[e],n=e;if(!r)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let e=a.length-1;e>n;e--)t=a[e].toBase(t);for(let e=n+1;e<o.length;e++)t=o[e].fromBase(t);return t}from(e,t){if(1===arguments.length){const r=pe(e);[e,t]=[r.space,r.coords]}return(e=me.get(e)).to(this,t)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let t in this.coords){let r=this.coords[t],n=r.range||r.refRange;e.push(n?.min??0)}return e}static registry={};static get all(){return[...new Set(Object.values(me.registry))]}static register(e,t){if(1===arguments.length&&(e=(t=arguments[0]).id),t=this.get(t),this.registry[e]&&this.registry[e]!==t)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=t,1===arguments.length&&t.aliases)for(let e of t.aliases)this.register(e,t);return t}static get(e,...t){if(!e||e instanceof me)return e;if("string"===F(e)){let t=me.registry[e.toLowerCase()];if(!t)throw new TypeError(`No color space found with id = "${e}"`);return t}if(t.length)return me.get(...t);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,t){let r,n,a=F(e);if("string"===a?e.includes(".")?[r,n]=e.split("."):[r,n]=[,e]:Array.isArray(e)?[r,n]=e:(r=e.space,n=e.coordId),r=me.get(r),r||(r=t),!r)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(a=F(n),"number"===a||"string"===a&&n>=0){let e=Object.entries(r.coords)[n];if(e)return{space:r,id:e[0],index:n,...e[1]}}r=me.get(r);let o=n.toLowerCase(),l=0;for(let e in r.coords){let t=r.coords[e];if(e.toLowerCase()===o||t.name?.toLowerCase()===o)return{space:r,id:e,index:l,...t};l++}throw new TypeError(`No "${n}" coordinate found in ${r.name}. Its coordinates are: ${Object.keys(r.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function ge(e){let t=[e];for(let r=e;r=r.base;)t.push(r);return t}function fe(e,{coords:t}={}){if(e.coords&&!e.coordGrammar){e.type||="function",e.name||="color",e.coordGrammar=U(e.coords);let r=Object.entries(t).map(([t,r],n)=>{let a=e.coordGrammar[n][0],o=r.range||r.refRange,l=a.range,s="";return"<percentage>"==a?(l=[0,100],s="%"):"<angle>"==a&&(s="deg"),{fromRange:o,toRange:l,suffix:s}});e.serializeCoords=(e,t)=>e.map((e,n)=>{let{fromRange:a,toRange:o,suffix:l}=r[n];return a&&o&&(e=J(a,o,e)),D(e,{precision:t,unit:l})})}return e}var he=new me({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class be extends me{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=he),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=t=>{let r=z(e.toXYZ_M,t);return this.white!==this.base.white&&(r=ie(this.white,this.base.white,r)),r},e.fromBase??=t=>(t=ie(this.base.white,this.white,t),z(e.fromXYZ_M,t))),e.referred??="display",super(e)}}function ye(e,t){return e=pe(e),!t||e.space.equals(t)?e.coords.slice():(t=me.get(t)).from(e)}function ve(e,t){e=pe(e);let{space:r,index:n}=me.resolveCoord(t,e.space);return ye(e,r)[n]}function we(e,t,r){return e=pe(e),t=me.get(t),e.coords=t.to(e.space,r),e}function Ee(e,t,r){if(e=pe(e),2===arguments.length&&"object"===F(arguments[1])){let t=arguments[1];for(let r in t)Ee(e,r,t[r])}else{"function"==typeof r&&(r=r(ve(e,t)));let{space:n,index:a}=me.resolveCoord(t,e.space),o=ye(e,n);o[a]=r,we(e,n,o)}return e}we.returns="color",Ee.returns="color";var Ce=new me({id:"xyz-d50",name:"XYZ D50",white:"D50",base:he,fromBase:e=>ie(he.white,"D50",e),toBase:e=>ie("D50",he.white,e)});const Se=216/24389,Me=24/116,Re=24389/27;let xe=le.D50;var ke=new me({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:xe,base:Ce,fromBase(e){let t=e.map((e,t)=>e/xe[t]).map(e=>e>Se?Math.cbrt(e):(Re*e+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>Me?Math.pow(t[0],3):(116*t[0]-16)/Re,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/Re,t[2]>Me?Math.pow(t[2],3):(116*t[2]-16)/Re].map((e,t)=>e*xe[t])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Ne(e){return(e%360+360)%360}var Pe=new me({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:ke,fromBase(e){let t,[r,n,a]=e;return t=Math.abs(n)<.02&&Math.abs(a)<.02?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),Ne(t)]},toBase(e){let[t,r,n]=e;return r<0&&(r=0),isNaN(n)&&(n=0),[t,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const Oe=25**7,$e=Math.PI,Be=180/$e,je=$e/180;function Le(e){const t=e*e;return t*t*t*e}function Te(e,t,{kL:r=1,kC:n=1,kH:a=1}={}){[e,t]=pe([e,t]);let[o,l,s]=ke.from(e),i=Pe.from(ke,[o,l,s])[1],[c,u,d]=ke.from(t),p=Pe.from(ke,[c,u,d])[1];i<0&&(i=0),p<0&&(p=0);let m=Le((i+p)/2),g=.5*(1-Math.sqrt(m/(m+Oe))),f=(1+g)*l,h=(1+g)*u,b=Math.sqrt(f**2+s**2),y=Math.sqrt(h**2+d**2),v=0===f&&0===s?0:Math.atan2(s,f),w=0===h&&0===d?0:Math.atan2(d,h);v<0&&(v+=2*$e),w<0&&(w+=2*$e),v*=Be,w*=Be;let E,C=c-o,S=y-b,M=w-v,R=v+w,x=Math.abs(M);b*y===0?E=0:x<=180?E=M:M>180?E=M-360:M<-180?E=M+360:oe.warn("the unthinkable has happened");let k,N=2*Math.sqrt(y*b)*Math.sin(E*je/2),P=(o+c)/2,O=(b+y)/2,$=Le(O);k=b*y===0?R:x<=180?R/2:R<360?(R+360)/2:(R-360)/2;let B=(P-50)**2,j=1+.015*B/Math.sqrt(20+B),L=1+.045*O,T=1;T-=.17*Math.cos((k-30)*je),T+=.24*Math.cos(2*k*je),T+=.32*Math.cos((3*k+6)*je),T-=.2*Math.cos((4*k-63)*je);let A=1+.015*O*T,I=30*Math.exp(-1*((k-275)/25)**2),z=2*Math.sqrt($/($+Oe)),_=(C/(r*j))**2;return _+=(S/(n*L))**2,_+=(N/(a*A))**2,_+=-1*Math.sin(2*I*je)*z*(S/(n*L))*(N/(a*A)),Math.sqrt(_)}const Ae=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Ie=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],ze=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],_e=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]];var Fe=new me({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:he,fromBase(e){let t=z(Ae,e).map(e=>Math.cbrt(e));return z(ze,t)},toBase(e){let t=z(_e,e).map(e=>e**3);return z(Ie,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function De(e,t){[e,t]=pe([e,t]);let[r,n,a]=Fe.from(e),[o,l,s]=Fe.from(t),i=r-o,c=n-l,u=a-s;return Math.sqrt(i**2+c**2+u**2)}function He(e,t,{epsilon:r=75e-6}={}){e=pe(e),t||(t=e.space),t=me.get(t);let n=e.coords;return t!==e.space&&(n=t.from(e)),t.inGamut(n,{epsilon:r})}function Ge(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function qe(e,t,r="lab"){let n=(r=me.get(r)).from(e),a=r.from(t);return Math.sqrt(n.reduce((e,t,r)=>{let n=a[r];return isNaN(t)||isNaN(n)?e:e+(n-t)**2},0))}const We=Math.PI/180;var Ve=new me({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:he,fromBase:e=>e.map(e=>Math.max(203*e,0)),toBase:e=>e.map(e=>Math.max(e/203,0))});const Xe=1.15,Ye=.66,Ze=2610/16384,Je=16384/2610,Ue=.8359375,Ke=2413/128,Qe=18.6875,et=1.7*2523/32,tt=32/(1.7*2523),rt=-.56,nt=16295499532821565e-27,at=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ot=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],lt=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],st=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var it=new me({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Ve,fromBase(e){let[t,r,n]=e,a=z(at,[Xe*t-(Xe-1)*n,Ye*r-(Ye-1)*t,n]).map(function(e){return((Ue+Ke*(e/1e4)**Ze)/(1+Qe*(e/1e4)**Ze))**et}),[o,l,s]=z(lt,a);return[(1+rt)*o/(1+rt*o)-nt,l,s]},toBase(e){let[t,r,n]=e,a=z(st,[(t+nt)/(1+rt-rt*(t+nt)),r,n]).map(function(e){return 1e4*((Ue-e**tt)/(Qe*e**tt-Ke))**Je}),[o,l,s]=z(ot,a),i=(o+(Xe-1)*s)/Xe;return[i,(l+(Ye-1)*i)/Ye,s]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),ct=new me({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:it,fromBase(e){let t,[r,n,a]=e;const o=2e-4;return t=Math.abs(n)<o&&Math.abs(a)<o?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),Ne(t)]},toBase:e=>[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]});const ut=.8359375,dt=2413/128,pt=18.6875,mt=2610/16384,gt=16384/2610,ft=32/2523,ht=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],bt=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],yt=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],vt=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]];var wt=new me({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Ve,fromBase:e=>function(e){let t=e.map(function(e){return((ut+dt*(e/1e4)**mt)/(1+pt*(e/1e4)**mt))**78.84375});return z(bt,t)}(z(ht,e)),toBase(e){let t=function(e){return z(yt,e).map(function(e){return 1e4*(Math.max(e**ft-ut,0)/(dt-pt*e**ft))**gt})}(e);return z(vt,t)}});const Et=le.D65,Ct=1/.42,St=2*Math.PI,Mt=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Rt=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],xt=[[460,451,288],[460,-891,-261],[460,-220,-6300]],kt={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Nt={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Pt=180/Math.PI,Ot=Math.PI/180;function $t(e,t){const r=e.map(e=>{const r=ee(t*Math.abs(e)*.01,.42);return 400*Q(r,e)/(r+27.13)});return r}function Bt(e,t,r,n,a){const o={};o.discounting=a,o.refWhite=e,o.surround=n;const l=e.map(e=>100*e);o.la=t,o.yb=r;const s=l[1],i=z(Mt,l),c=(n=kt[o.surround])[0];o.c=n[1],o.nc=n[2];const u=(1/(5*o.la+1))**4;o.fl=u*o.la+.1*(1-u)*(1-u)*Math.cbrt(5*o.la),o.flRoot=o.fl**.25,o.n=o.yb/s,o.z=1.48+Math.sqrt(o.n),o.nbb=.725*o.n**-.2,o.ncb=o.nbb;const d=a?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-o.la-42)/92)),1),0);o.dRgb=i.map(e=>Y(1,s/e,d)),o.dRgbInv=o.dRgb.map(e=>1/e);const p=i.map((e,t)=>e*o.dRgb[t]),m=$t(p,o.fl);return o.aW=o.nbb*(2*m[0]+m[1]+.05*m[2]),o}const jt=Bt(Et,64/Math.PI*.2,20,"average",!1);function Lt(e,t){if(!(void 0!==e.J^void 0!==e.Q))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(void 0!==e.C^void 0!==e.M^void 0!==e.s))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(void 0!==e.h^void 0!==e.H))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(0===e.J||0===e.Q)return[0,0,0];let r=0;r=void 0!==e.h?Ne(e.h)*Ot:function(e){let t=(e%400+400)%400;const r=Math.floor(.01*t);t%=100;const[n,a]=Nt.h.slice(r,r+2),[o,l]=Nt.e.slice(r,r+2);return Ne((t*(l*n-o*a)-100*n*l)/(t*(l-o)-100*l))}(e.H)*Ot;const n=Math.cos(r),a=Math.sin(r);let o=0;void 0!==e.J?o=.1*ee(e.J,.5):void 0!==e.Q&&(o=.25*t.c*e.Q/((t.aW+4)*t.flRoot));let l=0;void 0!==e.C?l=e.C/o:void 0!==e.M?l=e.M/t.flRoot/o:void 0!==e.s&&(l=4e-4*e.s**2*(t.aW+4)/t.c);const s=ee(l*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),i=.25*(Math.cos(r+2)+3.8),c=t.aW*ee(o,2/t.c/t.z),u=5e4/13*t.nc*t.ncb*i,d=c/t.nbb,p=23*(d+.305)*te(s,23*u+s*(11*n+108*a)),m=function(e,t){const r=100/t*2588.068098016295;return e.map(e=>{const t=Math.abs(e);return Q(r*ee(t/(400-t),Ct),e)})}(z(xt,[d,p*n,p*a]).map(e=>1*e/1403),t.fl);return z(Rt,m.map((e,r)=>e*t.dRgbInv[r])).map(e=>e/100)}function Tt(e,t){const r=e.map(e=>100*e),n=$t(z(Mt,r).map((e,r)=>e*t.dRgb[r]),t.fl),a=n[0]+(-12*n[1]+n[2])/11,o=(n[0]+n[1]-2*n[2])/9,l=(Math.atan2(o,a)%St+St)%St,s=.25*(Math.cos(l+2)+3.8),i=ee(5e4/13*t.nc*t.ncb*te(s*Math.sqrt(a**2+o**2),n[0]+n[1]+1.05*n[2]+.305),.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),c=ee(t.nbb*(2*n[0]+n[1]+.05*n[2])/t.aW,.5*t.c*t.z),u=100*ee(c,2),d=4/t.c*c*(t.aW+4)*t.flRoot,p=i*c,m=p*t.flRoot,g=Ne(l*Pt),f=function(e){let t=Ne(e);t<=Nt.h[0]&&(t+=360);const r=re(Nt.h,t)-1,[n,a]=Nt.h.slice(r,r+2),[o,l]=Nt.e.slice(r,r+2),s=(t-n)/o;return Nt.H[r]+100*s/(s+(a-t)/l)}(g);return{J:u,C:p,h:g,s:50*ee(t.c*i/(t.aW+4),.5),Q:d,M:m,H:f}}var At=new me({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:he,fromBase(e){const t=Tt(e,jt);return[t.J,t.M,t.h]},toBase:e=>Lt({J:e[0],M:e[1],h:e[2]},jt)});const It=le.D65,zt=216/24389,_t=24389/27;function Ft(e){return e>8?Math.pow((e+16)/116,3):e/_t}const Dt=Bt(It,200/Math.PI*Ft(50),100*Ft(50),"average",!1);var Ht=new me({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:he,fromBase:e=>function(e){const t=116*((r=e[1])>zt?Math.cbrt(r):(_t*r+16)/116)-16;var r;if(0===t)return[0,0,0];const n=Tt(e,Dt);return[Ne(n.h),n.C,t]}(e),toBase:e=>function(e,t){let[r,n,a]=e,o=[],l=0;if(0===a)return[0,0,0];let s=Ft(a);l=a>0?.00379058511492914*a**2+.608983189401032*a+.9155088574762233:9514440756550361e-21*a**2+.08693057439788597*a-21.928975842194614;let i=0,c=1/0;for(;i<=15;){o=Lt({J:l,C:n,h:r},t);const e=Math.abs(o[1]-s);if(e<c){if(e<=2e-12)return o;c=e}l-=(o[1]-s)*l/(2*o[1]),i+=1}return Lt({J:l,C:n,h:r},t)}(e,Dt),formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const Gt=Math.PI/180,qt=[1,.007,.0228];function Wt(e){e[1]<0&&(e=Ht.fromBase(Ht.toBase(e)));const t=Math.log(Math.max(1+qt[2]*e[1]*Dt.flRoot,1))/qt[2],r=e[0]*Gt,n=t*Math.cos(r),a=t*Math.sin(r);return[e[2],n,a]}var Vt={deltaE76:function(e,t){return qe(e,t,"lab")},deltaECMC:function(e,t,{l:r=2,c:n=1}={}){[e,t]=pe([e,t]);let[a,o,l]=ke.from(e),[,s,i]=Pe.from(ke,[a,o,l]),[c,u,d]=ke.from(t),p=Pe.from(ke,[c,u,d])[1];s<0&&(s=0),p<0&&(p=0);let m=a-c,g=s-p,f=(o-u)**2+(l-d)**2-g**2,h=.511;a>=16&&(h=.040975*a/(1+.01765*a));let b,y=.0638*s/(1+.0131*s)+.638;Number.isNaN(i)&&(i=0),b=i>=164&&i<=345?.56+Math.abs(.2*Math.cos((i+168)*We)):.36+Math.abs(.4*Math.cos((i+35)*We));let v=Math.pow(s,4),w=Math.sqrt(v/(v+1900)),E=(m/(r*h))**2;return E+=(g/(n*y))**2,E+=f/(y*(w*b+1-w))**2,Math.sqrt(E)},deltaE2000:Te,deltaEJz:function(e,t){[e,t]=pe([e,t]);let[r,n,a]=ct.from(e),[o,l,s]=ct.from(t),i=r-o,c=n-l;Number.isNaN(a)&&Number.isNaN(s)?(a=0,s=0):Number.isNaN(a)?a=s:Number.isNaN(s)&&(s=a);let u=a-s,d=2*Math.sqrt(n*l)*Math.sin(u/2*(Math.PI/180));return Math.sqrt(i**2+c**2+d**2)},deltaEITP:function(e,t){[e,t]=pe([e,t]);let[r,n,a]=wt.from(e),[o,l,s]=wt.from(t);return 720*Math.sqrt((r-o)**2+.25*(n-l)**2+(a-s)**2)},deltaEOK:De,deltaEHCT:function(e,t){[e,t]=pe([e,t]);let[r,n,a]=Wt(Ht.from(e)),[o,l,s]=Wt(Ht.from(t));return Math.sqrt((r-o)**2+(n-l)**2+(a-s)**2)}};const Xt={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Yt(e,{method:t=oe.gamut_mapping,space:r,deltaEMethod:n="",jnd:a=2,blackWhiteClamp:o={}}={}){if(e=pe(e),_(arguments[1])?r=arguments[1]:r||(r=e.space),He(e,r=me.get(r),{epsilon:0}))return e;let l;if("css"===t)l=function(e,{space:t}={}){const r=.02,n=1e-4;e=pe(e),t||(t=e.space),t=me.get(t);const a=me.get("oklch");if(t.isUnbounded)return Jt(e,t);const o=Jt(e,a);let l=o.coords[0];if(l>=1){const r=Jt(Zt.WHITE,t);return r.alpha=e.alpha,Jt(r,t)}if(l<=0){const r=Jt(Zt.BLACK,t);return r.alpha=e.alpha,Jt(r,t)}if(He(o,t,{epsilon:0}))return Jt(o,t);function s(e){const r=Jt(e,t),n=Object.values(t.coords);return r.coords=r.coords.map((e,t)=>{if("range"in n[t]){const[r,a]=n[t].range;return K(r,e,a)}return e}),r}let i=0,c=o.coords[1],u=!0,d=Ge(o),p=s(d),m=De(p,d);if(m<r)return p;for(;c-i>n;){const e=(i+c)/2;if(d.coords[1]=e,u&&He(d,t,{epsilon:0}))i=e;else if(p=s(d),m=De(p,d),m<r){if(r-m<n)break;u=!1,i=e}else c=e}return p}(e,{space:r});else{if("clip"===t||He(e,r))l=Jt(e,r);else{Object.prototype.hasOwnProperty.call(Xt,t)&&({method:t,jnd:a,deltaEMethod:n,blackWhiteClamp:o}=Xt[t]);let s=Te;if(""!==n)for(let e in Vt)if("deltae"+n.toLowerCase()===e.toLowerCase()){s=Vt[e];break}let i=Yt(Jt(e,r),{method:"clip",space:r});if(s(e,i)>a){if(3===Object.keys(o).length){let t=me.resolveCoord(o.channel),r=ve(Jt(e,t.space),t.id);if(H(r)&&(r=0),r>=o.max)return Jt({space:"xyz-d65",coords:le.D65},e.space);if(r<=o.min)return Jt({space:"xyz-d65",coords:[0,0,0]},e.space)}let n=me.resolveCoord(t),i=n.space,c=n.id,u=Jt(e,i);u.coords.forEach((e,t)=>{H(e)&&(u.coords[t]=0)});let d=(n.range||n.refRange)[0],p=function(e){const t=e?Math.floor(Math.log10(Math.abs(e))):0;return Math.max(parseFloat("1e"+(t-2)),1e-6)}(a),m=d,g=ve(u,c);for(;g-m>p;){let e=Ge(u);e=Yt(e,{space:r,method:"clip"}),s(u,e)-a<p?m=ve(u,c):g=ve(u,c),Ee(u,c,(m+g)/2)}l=Jt(u,r)}else l=i}if("clip"===t||!He(l,r,{epsilon:0})){let e=Object.values(r.coords).map(e=>e.range||[]);l.coords=l.coords.map((t,r)=>{let[n,a]=e[r];return void 0!==n&&(t=Math.max(n,t)),void 0!==a&&(t=Math.min(t,a)),t})}}return r!==e.space&&(l=Jt(l,e.space)),e.coords=l.coords,e}Yt.returns="color";const Zt={WHITE:{space:Fe,coords:[1,0,0]},BLACK:{space:Fe,coords:[0,0,0]}};function Jt(e,t,{inGamut:r}={}){e=pe(e);let n=(t=me.get(t)).from(e),a={space:t,coords:n,alpha:e.alpha};return r&&(a=Yt(a,!0===r?void 0:r)),a}function Ut(e,{precision:t=oe.precision,format:r="default",inGamut:n=!0,...a}={}){let o,l=r;r=(e=pe(e)).space.getFormat(r)??e.space.getFormat("default")??me.DEFAULT_FORMAT;let s=e.coords.slice();if(n||=r.toGamut,n&&!He(e)&&(s=Yt(Ge(e),!0===n?void 0:n).coords),"custom"===r.type){if(a.precision=t,!r.serialize)throw new TypeError(`format ${l} can only be used to parse colors, not for serialization`);o=r.serialize(s,e.alpha,a)}else{let n=r.name||"color";r.serializeCoords?s=r.serializeCoords(s,t):null!==t&&(s=s.map(e=>D(e,{precision:t})));let a=[...s];if("color"===n){let t=r.id||r.ids?.[0]||e.space.id;a.unshift(t)}let l=e.alpha;null!==t&&(l=D(l,{precision:t}));let i=e.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${l}`;o=`${n}(${a.join(r.commas?", ":" ")}${i})`}return o}Jt.returns="color";var Kt=new be({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]]});const Qt=1.09929682680944,er=.018053968510807;var tr=new be({id:"rec2020",name:"REC.2020",base:Kt,toBase:e=>e.map(function(e){return e<4.5*er?e/4.5:Math.pow((e+Qt-1)/Qt,1/.45)}),fromBase:e=>e.map(function(e){return e>=er?Qt*Math.pow(e,.45)-(Qt-1):4.5*e})}),rr=new be({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]});const nr=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var ar=new be({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:nr}),or={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let lr=Array(3).fill("<percentage> | <number>[0, 255]"),sr=Array(3).fill("<number>[0, 255]");var ir=new be({id:"srgb",name:"sRGB",base:ar,fromBase:e=>e.map(e=>{let t=e<0?-1:1,r=e*t;return r>.0031308?t*(1.055*r**(1/2.4)-.055):12.92*e}),toBase:e=>e.map(e=>{let t=e<0?-1:1,r=e*t;return r<=.04045?e/12.92:t*((r+.055)/1.055)**2.4}),formats:{rgb:{coords:lr},rgb_number:{name:"rgb",commas:!0,coords:sr,noAlpha:!0},color:{},rgba:{coords:lr,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:sr},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,e=>{t.push(parseInt(e,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:r=!0}={})=>{t<1&&e.push(t),e=e.map(e=>Math.round(255*e));let n=r&&e.every(e=>e%17==0),a=e.map(e=>n?(e/17).toString(16):e.toString(16).padStart(2,"0")).join("");return"#"+a}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){let t={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(e=e.toLowerCase())?(t.coords=or.black,t.alpha=0):t.coords=or[e],t.coords)return t}}}}),cr=new be({id:"p3",cssId:"display-p3",name:"P3",base:rr,fromBase:ir.fromBase,toBase:ir.toBase});let ur;if(oe.display_space=ir,"undefined"!=typeof CSS&&CSS.supports)for(let e of[ke,tr,cr]){let t=e.getMinCoords(),r=Ut({space:e,coords:t,alpha:1});if(CSS.supports("color",r)){oe.display_space=e;break}}function dr(e){return ve(e,[he,"y"])}function pr(e,t){Ee(e,[he,"y"],t)}var mr=Object.freeze({__proto__:null,getLuminance:dr,register:function(e){Object.defineProperty(e.prototype,"luminance",{get(){return dr(this)},set(e){pr(this,e)}})},setLuminance:pr});function gr(e){return e>=.022?e:e+(.022-e)**1.414}function fr(e){let t=e<0?-1:1,r=Math.abs(e);return t*Math.pow(r,2.4)}const hr=216/24389,br=24/116,yr=24389/27;let vr=le.D65;var wr=new me({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:vr,base:he,fromBase(e){let t=e.map((e,t)=>e/vr[t]).map(e=>e>hr?Math.cbrt(e):(yr*e+16)/116);return[116*t[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>br?Math.pow(t[0],3):(116*t[0]-16)/yr,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/yr,t[2]>br?Math.pow(t[2],3):(116*t[2]-16)/yr].map((e,t)=>e*vr[t])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const Er=.5*Math.pow(5,.5)+.5;var Cr=Object.freeze({__proto__:null,contrastAPCA:function(e,t){let r,n,a,o,l,s;t=pe(t),e=pe(e),t=Jt(t,"srgb"),[o,l,s]=t.coords;let i=.2126729*fr(o)+.7151522*fr(l)+.072175*fr(s);e=Jt(e,"srgb"),[o,l,s]=e.coords;let c=.2126729*fr(o)+.7151522*fr(l)+.072175*fr(s),u=gr(i),d=gr(c),p=d>u;return Math.abs(d-u)<5e-4?n=0:p?(r=d**.56-u**.57,n=1.14*r):(r=d**.65-u**.62,n=1.14*r),a=Math.abs(n)<.1?0:n>0?n-.027:n+.027,100*a},contrastDeltaPhi:function(e,t){e=pe(e),t=pe(t);let r=ve(e,[wr,"l"]),n=ve(t,[wr,"l"]),a=Math.abs(Math.pow(r,Er)-Math.pow(n,Er)),o=Math.pow(a,1/Er)*Math.SQRT2-40;return o<7.5?0:o},contrastLstar:function(e,t){e=pe(e),t=pe(t);let r=ve(e,[ke,"l"]),n=ve(t,[ke,"l"]);return Math.abs(r-n)},contrastMichelson:function(e,t){e=pe(e),t=pe(t);let r=Math.max(dr(e),0),n=Math.max(dr(t),0);n>r&&([r,n]=[n,r]);let a=r+n;return 0===a?0:(r-n)/a},contrastWCAG21:function(e,t){e=pe(e),t=pe(t);let r=Math.max(dr(e),0),n=Math.max(dr(t),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)},contrastWeber:function(e,t){e=pe(e),t=pe(t);let r=Math.max(dr(e),0),n=Math.max(dr(t),0);return n>r&&([r,n]=[n,r]),0===n?5e4:(r-n)/n}});function Sr(e){let[t,r,n]=ye(e,he),a=t+15*r+3*n;return[4*t/a,9*r/a]}function Mr(e){let[t,r,n]=ye(e,he),a=t+r+n;return[t/a,r/a]}var Rr=Object.freeze({__proto__:null,register:function(e){Object.defineProperty(e.prototype,"uv",{get(){return Sr(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return Mr(this)}})},uv:Sr,xy:Mr});function xr(e,t,r={}){_(r)&&(r={method:r});let{method:n=oe.deltaE,...a}=r;for(let r in Vt)if("deltae"+n.toLowerCase()===r.toLowerCase())return Vt[r](e,t,a);throw new TypeError(`Unknown deltaE method: ${n}`)}var kr=Object.freeze({__proto__:null,darken:function(e,t=.25){return Ee(e,[me.get("oklch","lch"),"l"],e=>e*(1-t))},lighten:function(e,t=.25){return Ee(e,[me.get("oklch","lch"),"l"],e=>e*(1+t))}});function Nr(e,t,r=.5,n={}){return[e,t]=[pe(e),pe(t)],"object"===F(r)&&([r,n]=[.5,r]),Or(e,t,n)(r)}function Pr(e,t,r={}){let n;$r(e)&&([n,r]=[e,t],[e,t]=n.rangeArgs.colors);let{maxDeltaE:a,deltaEMethod:o,steps:l=2,maxSteps:s=1e3,...i}=r;n||([e,t]=[pe(e),pe(t)],n=Or(e,t,i));let c=xr(e,t),u=a>0?Math.max(l,Math.ceil(c/a)+1):l,d=[];if(void 0!==s&&(u=Math.min(u,s)),1===u)d=[{p:.5,color:n(.5)}];else{let e=1/(u-1);d=Array.from({length:u},(t,r)=>{let a=r*e;return{p:a,color:n(a)}})}if(a>0){let e=d.reduce((e,t,r)=>{if(0===r)return 0;let n=xr(t.color,d[r-1].color,o);return Math.max(e,n)},0);for(;e>a;){e=0;for(let t=1;t<d.length&&d.length<s;t++){let r=d[t-1],a=d[t],o=(a.p+r.p)/2,l=n(o);e=Math.max(e,xr(l,r.color),xr(l,a.color)),d.splice(t,0,{p:o,color:n(o)}),t++}}}return d=d.map(e=>e.color),d}function Or(e,t,r={}){if($r(e)){let[r,n]=[e,t];return Or(...r.rangeArgs.colors,{...r.rangeArgs.options,...n})}let{space:n,outputSpace:a,progression:o,premultiplied:l}=r;e=pe(e),t=pe(t),e=Ge(e),t=Ge(t);let s={colors:[e,t],options:r};if(n=n?me.get(n):me.registry[oe.interpolationSpace]||e.space,a=a?me.get(a):n,e=Jt(e,n),t=Jt(t,n),e=Yt(e),t=Yt(t),n.coords.h&&"angle"===n.coords.h.type){let a=r.hue=r.hue||"shorter",o=[n,"h"],[l,s]=[ve(e,o),ve(t,o)];isNaN(l)&&!isNaN(s)?l=s:isNaN(s)&&!isNaN(l)&&(s=l),[l,s]=function(e,t){if("raw"===e)return t;let[r,n]=t.map(Ne),a=n-r;return"increasing"===e?a<0&&(n+=360):"decreasing"===e?a>0&&(r+=360):"longer"===e?-180<a&&a<180&&(a>0?r+=360:n+=360):"shorter"===e&&(a>180?r+=360:a<-180&&(n+=360)),[r,n]}(a,[l,s]),Ee(e,o,l),Ee(t,o,s)}return l&&(e.coords=e.coords.map(t=>t*e.alpha),t.coords=t.coords.map(e=>e*t.alpha)),Object.assign(r=>{r=o?o(r):r;let s=e.coords.map((e,n)=>Y(e,t.coords[n],r)),i=Y(e.alpha,t.alpha,r),c={space:n,coords:s,alpha:i};return l&&(c.coords=c.coords.map(e=>e/i)),a!==n&&(c=Jt(c,a)),c},{rangeArgs:s})}function $r(e){return"function"===F(e)&&!!e.rangeArgs}oe.interpolationSpace="lab";var Br=Object.freeze({__proto__:null,isRange:$r,mix:Nr,range:Or,register:function(e){e.defineFunction("mix",Nr,{returns:"color"}),e.defineFunction("range",Or,{returns:"function<color>"}),e.defineFunction("steps",Pr,{returns:"array<color>"})},steps:Pr}),jr=new me({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ir,fromBase:e=>{let t=Math.max(...e),r=Math.min(...e),[n,a,o]=e,[l,s,i]=[NaN,0,(r+t)/2],c=t-r;if(0!==c){switch(s=0===i||1===i?0:(t-i)/Math.min(i,1-i),t){case n:l=(a-o)/c+(a<o?6:0);break;case a:l=(o-n)/c+2;break;case o:l=(n-a)/c+4}l*=60}return s<0&&(l+=180,s=Math.abs(s)),l>=360&&(l-=360),[l,100*s,100*i]},toBase:e=>{let[t,r,n]=e;function a(e){let a=(e+t/30)%12,o=r*Math.min(n,1-n);return n-o*Math.max(-1,Math.min(a-3,9-a,1))}return t%=360,t<0&&(t+=360),r/=100,n/=100,[a(0),a(8),a(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Lr=new me({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:jr,fromBase(e){let[t,r,n]=e;r/=100,n/=100;let a=n+r*Math.min(n,1-n);return[t,0===a?0:200*(1-n/a),100*a]},toBase(e){let[t,r,n]=e;r/=100,n/=100;let a=n*(1-r/2);return[t,0===a||1===a?0:(n-a)/Math.min(a,1-a)*100,100*a]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Tr=new me({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Lr,fromBase(e){let[t,r,n]=e;return[t,n*(100-r)/100,100-n]},toBase(e){let[t,r,n]=e;r/=100,n/=100;let a=r+n;if(a>=1)return[t,0,r/a*100];let o=1-n;return[t,100*(0===o?0:1-r/o),100*o]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Ar=new be({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),Ir=new be({id:"a98rgb",cssId:"a98-rgb",name:"Adobe 98 RGB compatible",base:Ar,toBase:e=>e.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:e=>e.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),zr=new be({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Ce,toXYZ_M:[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],fromXYZ_M:[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]]});const _r=1/512;var Fr=new be({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:zr,toBase:e=>e.map(e=>e<.03125?e/16:e**1.8),fromBase:e=>e.map(e=>e>=_r?e**(1/1.8):16*e)}),Dr=new me({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Fe,fromBase(e){let t,[r,n,a]=e;const o=2e-4;return t=Math.abs(n)<o&&Math.abs(a)<o?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),Ne(t)]},toBase(e){let t,r,[n,a,o]=e;return isNaN(o)?(t=0,r=0):(t=a*Math.cos(o*Math.PI/180),r=a*Math.sin(o*Math.PI/180)),[n,t,r]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});let Hr=le.D65;const Gr=216/24389,qr=24389/27,[Wr,Vr]=Sr({space:he,coords:Hr});var Xr=new me({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Hr,base:he,fromBase(e){let t=[G(e[0]),G(e[1]),G(e[2])],r=t[1],[n,a]=Sr({space:he,coords:t});if(!Number.isFinite(n)||!Number.isFinite(a))return[0,0,0];let o=r<=Gr?qr*r:116*Math.cbrt(r)-16;return[o,13*o*(n-Wr),13*o*(a-Vr)]},toBase(e){let[t,r,n]=e;if(0===t||H(t))return[0,0,0];r=G(r),n=G(n);let a=r/(13*t)+Wr,o=n/(13*t)+Vr,l=t<=8?t/qr:Math.pow((t+16)/116,3);return[l*(9*a/(4*o)),l,l*((12-3*a-20*o)/(4*o))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Yr=new me({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Xr,fromBase(e){let t,[r,n,a]=e;return t=Math.abs(n)<.02&&Math.abs(a)<.02?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),Ne(t)]},toBase(e){let[t,r,n]=e;return r<0&&(r=0),isNaN(n)&&(n=0),[t,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const Zr=216/24389,Jr=24389/27,Ur=nr[0][0],Kr=nr[0][1],Qr=nr[0][2],en=nr[1][0],tn=nr[1][1],rn=nr[1][2],nn=nr[2][0],an=nr[2][1],on=nr[2][2];function ln(e,t,r){const n=t/(Math.sin(r)-e*Math.cos(r));return n<0?1/0:n}function sn(e){const t=Math.pow(e+16,3)/1560896,r=t>Zr?t:e/Jr,n=r*(284517*Ur-94839*Qr),a=r*(838422*Qr+769860*Kr+731718*Ur),o=r*(632260*Qr-126452*Kr),l=r*(284517*en-94839*rn),s=r*(838422*rn+769860*tn+731718*en),i=r*(632260*rn-126452*tn),c=r*(284517*nn-94839*on),u=r*(838422*on+769860*an+731718*nn),d=r*(632260*on-126452*an);return{r0s:n/o,r0i:a*e/o,r1s:n/(o+126452),r1i:(a-769860)*e/(o+126452),g0s:l/i,g0i:s*e/i,g1s:l/(i+126452),g1i:(s-769860)*e/(i+126452),b0s:c/d,b0i:u*e/d,b1s:c/(d+126452),b1i:(u-769860)*e/(d+126452)}}function cn(e,t){const r=t/360*Math.PI*2,n=ln(e.r0s,e.r0i,r),a=ln(e.r1s,e.r1i,r),o=ln(e.g0s,e.g0i,r),l=ln(e.g1s,e.g1i,r),s=ln(e.b0s,e.b0i,r),i=ln(e.b1s,e.b1i,r);return Math.min(n,a,o,l,s,i)}var un=new me({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Yr,gamutSpace:ir,fromBase(e){let t,[r,n,a]=[G(e[0]),G(e[1]),G(e[2])];return r>99.9999999?(t=0,r=100):r<1e-8?(t=0,r=0):t=n/cn(sn(r),a)*100,[a,t,r]},toBase(e){let t,[r,n,a]=[G(e[0]),G(e[1]),G(e[2])];return a>99.9999999?(a=100,t=0):a<1e-8?(a=0,t=0):t=cn(sn(a),r)/100*n,[a,t,r]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});function dn(e,t){return Math.abs(t)/Math.sqrt(Math.pow(e,2)+1)}function pn(e){let t=dn(e.r0s,e.r0i),r=dn(e.r1s,e.r1i),n=dn(e.g0s,e.g0i),a=dn(e.g1s,e.g1i),o=dn(e.b0s,e.b0i),l=dn(e.b1s,e.b1i);return Math.min(t,r,n,a,o,l)}nr[0][0],nr[0][1],nr[0][2],nr[1][0],nr[1][1],nr[1][2],nr[2][0],nr[2][1],nr[2][2];var mn=new me({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Yr,gamutSpace:"self",fromBase(e){let t,[r,n,a]=[G(e[0]),G(e[1]),G(e[2])];return r>99.9999999?(t=0,r=100):r<1e-8?(t=0,r=0):t=n/pn(sn(r))*100,[a,t,r]},toBase(e){let t,[r,n,a]=[G(e[0]),G(e[1]),G(e[2])];return a>99.9999999?(a=100,t=0):a<1e-8?(a=0,t=0):t=pn(sn(a))/100*n,[a,t,r]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const gn=2610/16384,fn=16384/2610,hn=32/2523,bn=.8359375,yn=2413/128,vn=18.6875;var wn=new be({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:Kt,toBase:e=>e.map(function(e){return 1e4*(Math.max(e**hn-bn,0)/(yn-vn*e**hn))**fn/203}),fromBase:e=>e.map(function(e){let t=Math.max(203*e/1e4,0);return((bn+yn*t**gn)/(1+vn*t**gn))**78.84375})});const En=.17883277,Cn=.28466892,Sn=.55991073,Mn=3.7743;var Rn=new be({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Kt,toBase:e=>e.map(function(e){return e<=.5?e**2/3*Mn:(Math.exp((e-Sn)/En)+Cn)/12*Mn}),fromBase:e=>e.map(function(e){return(e/=Mn)<=1/12?Math.sqrt(3*e):En*Math.log(12*e-Cn)+Sn})});const xn={};function kn({id:e,toCone_M:t,fromCone_M:r}){xn[e]=arguments[0]}function Nn(e,t,r="Bradford"){let n=xn[r],[a,o,l]=z(n.toCone_M,e),[s,i,c]=z(n.toCone_M,t),u=z([[s/a,0,0],[0,i/o,0],[0,0,c/l]],n.toCone_M);return z(n.fromCone_M,u)}ae.add("chromatic-adaptation-start",e=>{e.options.method&&(e.M=Nn(e.W1,e.W2,e.options.method))}),ae.add("chromatic-adaptation-end",e=>{e.M||(e.M=Nn(e.W1,e.W2,e.options.method))}),kn({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]}),kn({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]}),kn({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]}),kn({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]}),Object.assign(le,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),le.ACES=[.32168/.33767,1,.34065/.33767];var Pn=new be({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:le.ACES,toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]]});const On=2**-16,$n=-.35828683,Bn=(Math.log2(65504)+9.72)/17.52;var jn=new be({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[$n,Bn],name:"Red"},g:{range:[$n,Bn],name:"Green"},b:{range:[$n,Bn],name:"Blue"}},referred:"scene",base:Pn,toBase:e=>e.map(function(e){return e<=-.3013698630136986?2*(2**(17.52*e-9.72)-On):e<Bn?2**(17.52*e-9.72):65504}),fromBase:e=>e.map(function(e){return e<=0?(Math.log2(On)+9.72)/17.52:e<On?(Math.log2(On+.5*e)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}),Ln=Object.freeze({__proto__:null,A98RGB:Ir,A98RGB_Linear:Ar,ACEScc:jn,ACEScg:Pn,CAM16_JMh:At,HCT:Ht,HPLuv:mn,HSL:jr,HSLuv:un,HSV:Lr,HWB:Tr,ICTCP:wt,JzCzHz:ct,Jzazbz:it,LCH:Pe,LCHuv:Yr,Lab:ke,Lab_D65:wr,Luv:Xr,OKLCH:Dr,OKLab:Fe,P3:cr,P3_Linear:rr,ProPhoto:Fr,ProPhoto_Linear:zr,REC_2020:tr,REC_2020_Linear:Kt,REC_2100_HLG:Rn,REC_2100_PQ:wn,XYZ_ABS_D65:Ve,XYZ_D50:Ce,XYZ_D65:he,sRGB:ir,sRGB_Linear:ar});class Tn{constructor(...e){let t,r,n,a;1===e.length&&(t=pe(e[0])),t?(r=t.space||t.spaceId,n=t.coords,a=t.alpha):[r,n,a]=e,Object.defineProperty(this,"space",{value:me.get(r),writable:!1,enumerable:!0,configurable:!0}),this.coords=n?n.slice():[0,0,0],this.alpha=a>1||void 0===a?1:a<0?0:a;for(let e=0;e<this.coords.length;e++)"NaN"===this.coords[e]&&(this.coords[e]=NaN);for(let e in this.space.coords)Object.defineProperty(this,e,{get:()=>this.get(e),set:t=>this.set(e,t)})}get spaceId(){return this.space.id}clone(){return new Tn(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let t=function(e,{space:t=oe.display_space,...r}={}){let n=Ut(e,r);if("undefined"==typeof CSS||CSS.supports("color",n)||!oe.display_space)n=new String(n),n.color=e;else{let a=e;if((e.coords.some(H)||H(e.alpha))&&!(ur??=CSS.supports("color","hsl(none 50% 50%)"))&&(a=Ge(e),a.coords=a.coords.map(G),a.alpha=G(a.alpha),n=Ut(a,r),CSS.supports("color",n)))return n=new String(n),n.color=a,n;a=Jt(a,t),n=new String(Ut(a,r)),n.color=a}return n}(this,...e);return t.color=new Tn(t.color),t}static get(e,...t){return e instanceof Tn?e:new Tn(e,...t)}static defineFunction(e,t,r=t){let{instance:n=!0,returns:a}=r,o=function(...e){let r=t(...e);if("color"===a)r=Tn.get(r);else if("function<color>"===a){let e=r;r=function(...t){let r=e(...t);return Tn.get(r)},Object.assign(r,e)}else"array<color>"===a&&(r=r.map(e=>Tn.get(e)));return r};e in Tn||(Tn[e]=o),n&&(Tn.prototype[e]=function(...e){return o(this,...e)})}static defineFunctions(e){for(let t in e)Tn.defineFunction(t,e[t],e[t])}static extend(e){if(e.register)e.register(Tn);else for(let t in e)Tn.defineFunction(t,e[t])}}Tn.defineFunctions({get:ve,getAll:ye,set:Ee,setAll:we,to:Jt,equals:function(e,t){return e=pe(e),t=pe(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((e,r)=>e===t.coords[r])},inGamut:He,toGamut:Yt,distance:qe,toString:Ut}),Object.assign(Tn,{util:ne,hooks:ae,WHITES:le,Space:me,spaces:me.registry,parse:de,defaults:oe});for(let e of Object.keys(Ln))me.register(Ln[e]);for(let e in me.registry)An(e,me.registry[e]);function An(e,t){let r=e.replace(/-/g,"_");Object.defineProperty(Tn.prototype,r,{get(){let r=this.getAll(e);return"undefined"==typeof Proxy?r:new Proxy(r,{has:(e,r)=>{try{return me.resolveCoord([t,r]),!0}catch(e){}return Reflect.has(e,r)},get:(e,r,n)=>{if(r&&"symbol"!=typeof r&&!(r in e)){let{index:n}=me.resolveCoord([t,r]);if(n>=0)return e[n]}return Reflect.get(e,r,n)},set:(r,n,a,o)=>{if(n&&"symbol"!=typeof n&&!(n in r)||n>=0){let{index:o}=me.resolveCoord([t,n]);if(o>=0)return r[o]=a,this.setAll(e,r),!0}return Reflect.set(r,n,a,o)}})},set(t){this.setAll(e,t)},configurable:!0,enumerable:!0})}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(null,arguments)}ae.add("colorspace-init-end",e=>{An(e.id,e),e.aliases?.forEach(t=>{An(t,e)})}),Tn.extend(Vt),Tn.extend({deltaE:xr}),Object.assign(Tn,{deltaEMethods:Vt}),Tn.extend(kr),Tn.extend({contrast:function(e,t,r={}){_(r)&&(r={algorithm:r});let{algorithm:n,...a}=r;if(!n){let e=Object.keys(Cr).map(e=>e.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${e}`)}e=pe(e),t=pe(t);for(let r in Cr)if("contrast"+n.toLowerCase()===r.toLowerCase())return Cr[r](e,t,a);throw new TypeError(`Unknown contrast algorithm: ${n}`)}}),Tn.extend(Rr),Tn.extend(mr),Tn.extend(Br),Tn.extend(Cr);const zn=({style:e,value:t=[0,0],onChange:r=()=>{},thumbStyle:n={},onPointerDown:a=()=>{},onPointerUp:o=()=>{},...l})=>{const i=(0,s.useRef)(null),c=(0,s.useRef)(null),u=(0,s.useRef)(null),[d,p]=(0,s.useState)(!1),m=e=>{u.current&&cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{const n="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,o=i.current.getBoundingClientRect(),l=n-(o.left+window.top.pageXOffset),s=a-(o.top+window.top.pageYOffset),c=N(k(l,0,o.width),0,o.width,0,100),u=N(k(s,0,o.height),0,o.height,0,100),d=[Math.round(c),Math.round(u)];d[0]===t[0]&&d[1]===t[1]||r(d,{container:i.current,rect:o,page:[n,a],xy:[n-o.left,a-o.top],percent:d})})},g=e=>{a(),e.preventDefault(),p(!0),m(e)},f=()=>{o(),p(!1)};return(0,s.useEffect)(()=>{const e=e=>d&&m(e),t=window.top;return t.addEventListener("pointermove",e),t.addEventListener("pointerup",f),()=>{t.removeEventListener("pointermove",e),t.removeEventListener("pointerup",f)}},[d]),React.createElement("div",In({ref:i,onPointerDown:g,style:{boxSizing:"border-box",aspectRatio:"3/2",background:"grey",position:"relative",...e}},l),React.createElement("button",{ref:c,className:"fl-control fl-controls-drag-thumb",onPointerDown:g,style:{boxSizing:"border-box",...n,left:`${t[0]}%`,top:`${t[1]}%`}}))},{K6:_n,MY:Fn,Ob:Dn}=e;let Hn=null;const Gn=e=>{Hn||(Hn=document.createElement("div"),document.body.append(Hn)),Hn.style.color=e;const t=window.getComputedStyle(Hn).getPropertyValue("color");return Hn.style.color="",t},qn=e=>{const t=Gn(e),r=(e=>{const t=/\(([^)]+)\)/.exec(e)[1].replaceAll(","," ").split(/(\s+)/).filter(e=>e.trim().length>0&&"/"!==e).map(e=>isNaN(e)?e:parseFloat(e)),r=e.split("(")[0];if("color"===r){const[e,...n]=t;return{funcName:r,colorSpace:e,channels:3===n.length?[...n,1]:n}}{let e=r;return"rgb"===r&&(e="srgb"),{funcName:r,colorSpace:e,channels:3===t.length?[...t,1]:t}}})(t),{colorSpace:n}=r;return{rawValue:e,computedValue:t,colorSpace:n,getSRGB:()=>{const{colorSpace:e,channels:t}=r;let n={r:60,g:67,b:74,a:1};"srgb"===e&&(n={...n,r:t[0],g:t[1],b:t[2],a:t[3]});const{r:a,g:o,b:l,a:s}=n,i=Dn(a,o,l),c=N(n.r,0,255,0,1),u=N(n.g,0,255,0,1),d=N(n.b,0,255,0,1),[p,m,g]=_n(c,u,d),[f,h,b]=Fn(c,u,d);return{rgb:n,rgbString:`rgb( ${a} ${o} ${l} / ${s} )`,hsl:{h:p,s:m,l:g,a:s},hslString:`hsl( ${p} ${m}% ${g}% / ${s})`,hwbString:`hwb( ${p} ${h}% ${b}% / ${s})`,hex:i,alpha:s,red:a,green:o,blue:l,hue:p,whiteness:h,blackness:b,saturation:m,lightness:g}}}};function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}const Vn=(e,t,r=1)=>Array.from({length:(t-e)/r+1},(t,n)=>e+n*r),Xn=(e,t,r,n)=>{const a=Math.round(e),o=Math.round(t),l=Math.round(r),s=Number.parseFloat(n).toFixed(2);return`hsl(${a} ${o}% ${l}% ${1>s?"/ "+s:""})`};function Yn(e,t,r){const n=(200-t)*r/100,[a,o]=[0===n||200===n?0:t*r/100/(100>=n?n:200-n)*100,5*n/10];return[e,a,o]}const Zn=({style:e,...t})=>i().createElement("div",Wn({className:"fl-color-picker-page",style:{boxSizing:"border-box",scrollSnapAlign:"start",flexShrink:0,gridColumn:"1/-1",display:"grid",gridTemplateColumns:"subgrid",gap:"0 8px",...e}},t)),Jn={label:h("sRGB"),content:()=>{const e=(0,s.useRef)(null),{rawValue:t,setValue:r}=ia(),[n,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(0),[d,p]=(0,s.useState)(0),[m,g]=(0,s.useState)(0),[f,b]=(0,s.useState)(1);(0,s.useEffect)(()=>{n||(e=>{if(CSS.supports("color",e))try{const t=new Tn(e),{alpha:r,space:n,hsl:a,hsv:s}=t;if(f!==r&&b(r),["sRGB","Linear sRGB","HSL","HSV","HWB"].includes(n.name)){const[e,t,r]=a,[n,i,f]=s;if(o!==n&&!isNaN(n)){const e=10;o-n<360&&(n>=o+e||n<=o-e)&&l(n)}d!==r&&p(r),c!==i&&u(i),m!==f&&g(f)}}catch(e){}})(t)},[t]);const y=Xn(...Yn(o,c,m)),v=`linear-gradient(to top, black, rgb(0 0 0 / 0 ) ),\n\t\t\t\t\t\t linear-gradient(to right, white, rgb(255 255 255 / 0 ) ),\n\t\t\t\t\t\t linear-gradient( hsl( ${o} 100% 50%), hsl( ${o} 100% 50%) )`,w=t=>{e.current&&cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>r((e=>Gn(e))(t)))};return i().createElement("div",{style:{display:"grid",gridTemplateColumns:"min-content minmax(0, 1fr ) minmax( 5ch, min-content )",flexDirection:"column",scrollSnapType:"y mandatory",color:"var(--fg-color)"}},i().createElement(Zn,{style:{gridTemplateRows:"1fr auto auto auto"}},i().createElement(zn,{value:[c,100-m],onChange:([e,t])=>{const r=e,n=100-t;u(r),g(n);const a=Yn(o,r,n);w(Xn(o,r,a[2],f))},onPointerDown:()=>a(!0),onPointerUp:()=>a(!1),style:{gridColumn:"1/-1",aspectRatio:"none",background:v},thumbStyle:{"--color":y}}),i().createElement("div",{className:"colorscale",style:{gridColumn:"1/-1",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:n?"none":""}},["transparent",...Vn(0,100,10).toReversed()].map(e=>{const t="string"==typeof e?e:Xn(0,0,e),r=40<e?"black":"white";return i().createElement(I,{key:t,as:"button",value:t,onClick:()=>w(t),style:{"--size":"24px","--radius":0,"--text-color":r,flexGrow:1,aspectRatio:"none",boxShadow:"none",cursor:"pointer"}},"transparent"!==e&&e)})),i().createElement("div",{style:{gridColumn:"1/-1",display:"grid",gridTemplateColumns:"subgrid",padding:"8px 0"}},i().createElement("div",{style:{gridColumn:"1/-1",display:"grid",gridTemplateColumns:"subgrid",alignContent:"center",alignItems:"center",paddingLeft:16,paddingRight:8,height:"var(--bar-size)"}},i().createElement("label",null,h("Hue")),i().createElement(To,{className:"hue-slider",type:"range",min:0,max:360,value:o,onChange:e=>{const t=Math.round(e.target.value);l(t);const r=Xn(...Yn(t,c,m),f);w(r)},onPointerDown:()=>a(!0),onPointerUp:()=>a(!1),style:{"--hue":o,"--sat":c}}),i().createElement("div",null,Math.round(o))),i().createElement("div",{style:{gridColumn:"1/-1",display:"grid",gridTemplateColumns:"subgrid",alignContent:"center",alignItems:"center",paddingLeft:16,paddingRight:8,height:"var(--bar-size)"}},i().createElement("label",null,h("Alpha")),i().createElement(To,{className:"alpha-slider",type:"range",min:0,max:1,step:.01,value:f,onChange:e=>{const t=e.target.value;b(t),w(Xn(...Yn(o,c,m),t))},onPointerDown:()=>a(!0),onPointerUp:()=>a(!1),style:{"--thumb-color":Xn(o,c,50),"--hue":o,"--sat":`${c}%`}}),i().createElement("div",null,parseInt(100*f))))))}},Un=wp.i18n,{forEach:Kn}=FL.Builder.utils.objects,Qn={label:h("Mix"),content:()=>{const{setValue:e}=ia(),[t,r]=(0,s.useState)("rgb(0, 255, 251)"),[n,a]=(0,s.useState)("rgb(254, 1, 136)"),[o,l]=(0,s.useState)(50),[c,u]=(0,s.useState)("lch"),d=(e,t,r,n)=>`color-mix( in ${n}, ${e} ${r}%, ${t})`,p=d(t,n,o,c),m=(0,s.useRef)(null),g={srgb:"sRGB","srgb-linear":"Linear sRGB",oklab:"OKLAB",lch:"LCH",oklch:"OKLCH"},f=new Array(10).fill("");return i().createElement("div",{style:{display:"grid",gridTemplateRows:`calc( 32px * ${Object.keys(g).length} ) 1fr`}},i().createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat( 9, 1fr)",background:"charcoal"}},Object.keys(g).map(r=>i().createElement(s.Fragment,{key:r},f.map((a,o)=>{if(0===o)return null;const s=Math.round(10*o),c=d(t,n,s,r);return i().createElement(I,{key:o,className:"mix-swatch",style:{"--color":c,width:"auto",height:"auto"},onClick:()=>{e(c),l(s),u(r)},title:(0,Un.sprintf)("%d%% Mix in %s Color Space",s,g[r])})})))),i().createElement("div",{style:{padding:"4px 16px",display:"grid",gridAutoRows:"var(--fl-controls-target-size)",gridRow:"2 / span 4",gap:8}},i().createElement("div",{style:{display:"grid",placeContent:"center"}},h("Mix two color values to create a new color")),i().createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, var(--fl-controls-target-size)",placeContent:"center"}},i().createElement(pa,{showReset:!1,filterTabs:e=>"mix"!==e,value:n,onChange:r=>{a(r),e(d(t,r,o,c))}}),i().createElement("div",{style:{display:"grid",placeContent:"center",fontSize:24,color:"var(--accent-color)"}},"+"),i().createElement(pa,{showReset:!1,filterTabs:e=>"mix"!==e,value:t,onChange:t=>{r(t),e(d(t,n,o,c))}}),i().createElement("div",{style:{display:"grid",placeContent:"center",fontSize:24,color:"var(--accent-color)"}},"="),i().createElement(I,{style:{"--size":"auto","--color":p,gridColumn:"span 2",borderRadius:"var(--fl-controls-radius)"},onClick:()=>e(p)})),i().createElement("label",{style:{display:"flex",alignItems:"center"}},i().createElement("span",{style:{width:"6ch"}},h("Mix")),i().createElement(To,{value:o,onChange:r=>{const a=Math.round(r.target.value);var o;l(a),o=d(t,n,a,c),m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>e(o))},min:0,max:100,step:.5,style:{"--thumb-color":d(t,n,o,c),"--track-color":`linear-gradient( in ${c} to left, ${t}, ${n} )`}}),i().createElement("span",{style:{width:"6ch",textAlign:"right"}},(0,Un.sprintf)("%s%%",o))),i().createElement("label",{style:{display:"flex",alignItems:"center",gap:8}},i().createElement("span",{style:{flexShrink:0}},h("Color Space")),i().createElement("select",{style:{flexGrow:1},value:c,onChange:r=>{const a=r.target.value;u(a),e(d(t,n,o,a))}},Kn(g,(e,t)=>i().createElement("option",{key:e,value:e},t))))))}},{forEach:ea}=FL.Builder.utils.objects,ta={label:h("Presets"),content:({onConnect:e})=>{const t="function"==typeof e,{colorPresets:r,colorSets:n,deleteColorPreset:a}=p(),{setValue:o}=ia();return i().createElement("div",{style:{display:"grid",padding:"0 16px 16px",overflow:"auto",gap:8,alignContent:"start"}},i().createElement(A,{title:h("Saved Colors")},0>=r.length&&i().createElement("div",{style:{gridColumn:"1/-1"}},h("Once you choose a color you can save it as a preset by clicking the + button above.")),0<r.length&&r.map(e=>{const t=(e=>!CSS.supports("color",e)&&CSS.supports("color",`#${e}`)?`#${e}`:e)(e);return i().createElement("div",{key:e,className:"removable-swatch-wrap"},i().createElement(I,{as:"button",value:t,onClick:()=>o(t),title:t}),i().createElement("button",{className:"remove-swatch-button",onClick:()=>{window.confirm(h("Are you sure you want to delete this preset?"))&&a(t)},style:{"--color":e}},i().createElement("span",null,i().createElement(m.Close,null))))})),t&&ea(n,(t,{name:r,colors:n})=>0>=n.length?null:i().createElement(A,{key:t,title:r,appearance:"list"},n.map(({uid:t,label:r,color:n,isGlobalColor:a})=>i().createElement("button",{key:t,style:{gridColumn:"1/-1",display:"grid",gridTemplateColumns:"subgrid",placeItems:"center start",padding:0,background:"none",border:"none",textTransform:"capitalize"},onClick:o=>{e({uid:t,label:r,color:n,isGlobalColor:a},o)}},i().createElement(I,{value:n,title:r}),i().createElement("div",null,r))))))}},ra={srgb:Jn,mix:Qn,presets:ta},na=({filterTabs:e=()=>!0,defaultTab:t="srgb",placeholderText:r="#123123...",onConnect:n})=>{const{rawValue:a="",setValue:o}=ia();let l={};const c=Object.keys(ra).filter(e);for(let e in ra)c.includes(e)&&(l[e]=ra[e]);const[u,d]=(0,s.useState)(t),[m,g]=(0,s.useState)(!1),b=l[u].content,{addColorPreset:y}=p();return i().createElement(i().Fragment,null,i().createElement("div",{className:"fl-color-picker-toolbar",style:{gridArea:"1/1/span 1/-1",display:"flex",borderTopRightRadius:"var(--radius)",borderTopLeftRadius:"var(--radius)",paddingLeft:void 0===window.EyeDropper?8:null}},window.EyeDropper&&i().createElement("div",{style:{height:"var(--bar-size)",aspectRatio:"1/1",display:"grid",placeContent:"center"}},i().createElement(j,{onChange:e=>{o(e),d(t)}})),i().createElement("div",{className:"picker-input-wrap"},i().createElement(I,{value:a,style:{borderRadius:"50%"}}),i().createElement("input",{autoFocus:!0,type:"text",value:a,onInput:e=>o(e.target.value),placeholder:r,title:a})),i().createElement("div",{style:{flex:"1 0 auto",height:"var(--bar-size)",minWidth:"var(--bar-size)",display:"grid",placeContent:"center"}},i().createElement("button",{className:"fl-control",disabled:""===a,onClick:()=>{""!==a&&(y(a),document.startViewTransition?document.startViewTransition(()=>{g(!0),setTimeout(()=>{document.startViewTransition(()=>g(!1))},1e3)}):(g(!0),setTimeout(()=>g(!1),2e3)))},style:{boxSizing:"border-box",aspectRatio:1,display:"grid",gridAutoFlow:"column",placeContent:"center",placeItems:"center",gap:4,padding:"0px 6px",viewTransitionName:"fl-controls-color-picker-saved-preset-button"}},!m&&i().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i().createElement("path",{d:"M15.6569 9.99999H4.34315",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),i().createElement("path",{d:"M10 4.34314V15.6568",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),m&&h("Saved")))),i().createElement("div",{style:{gridArea:"2 / 1 / span 1 / -1",display:"grid"}},i().createElement(b,{onConnect:n})),i().createElement("div",{className:"fl-controls-picker-bottom-tabs",style:{gridArea:"span 1 / 1 / -1 / -1",display:"flex",justifyContent:"center",background:"var(--platter-bg-color)",borderBottomLeftRadius:"var(--radius)",borderBottomRightRadius:"var(--radius)",overflow:"hidden"}},Object.entries(l).map(([e,{label:t}])=>{const r=e===u;return i().createElement("button",{key:e,onClick:()=>d(e),className:f()("fl-control",{"is-selected":r}),style:{color:r?null:"var(--fl-builder-platter-color)",background:r?"var(--bg-color)":"var(--fl-builder-platter-bg-color)"}},t)})))},aa=(0,s.createContext)(),oa=()=>(0,s.useContext)(aa),la=({value:e="",onChange:t=()=>{},children:r})=>{const[n,a]=(0,s.useState)(e),o={isValid:CSS.supports("color",e),rawValue:n,setValue:e=>{a(e),t(e)}};return(0,s.useEffect)(()=>{n!==e&&a(e)},[e]),React.createElement(aa.Provider,{value:o},r)};function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(null,arguments)}const ia=oa,ca=la,ua=(0,s.forwardRef)(({showReset:e=!0,style:t={},...r},n)=>{const{rawValue:a,setValue:o}=oa(),l=""!==a;return i().createElement("div",sa({className:"fl-controls-color-input",ref:n,style:{"--radius":"var(--fl-controls-radius)","--size":"36px",display:"flex",height:"var(--size)",...t}},r),i().createElement(I,{value:a,as:"button",style:{"--radius":"inherit",flexGrow:1,width:"auto",height:"auto",borderTopRightRadius:l&&e?0:null,borderBottomRightRadius:l&&e?0:null}}),!0===e&&l&&i().createElement("button",{onClick:e=>{o(""),e.stopPropagation()},style:{padding:0,width:24,display:"grid",placeContent:"center",border:"1px solid var(--fl-controls-outline-color)",borderLeft:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:"var(--radius)",borderBottomRightRadius:"var(--radius)",backgroundColor:"var(--fl-controls-platter-bg-color)"}},i().createElement(m.Close,null)))}),da=(0,s.forwardRef)(({buttonComponent:e=ua,showReset:t=!0,filterTabs:r,defaultTab:n,onConnect:a,buttonProps:o={}},l)=>{const{rawValue:s}=oa(),c=""!==s?s:"grey",u=`color-mix( in srgb, grey 30%, color-mix( in srgb-linear, black 40%, ${c} ) )`,d=`color-mix( in srgb, grey 50%, color-mix( in srgb-linear, black 82%, ${c} ) )`,p=`color-mix( in srgb-linear, var(--fl-controls-platter-bg-color) 70%, ${c} )`,m=`color-mix( in srgb-linear, var(--fl-controls-platter-bg-color) 70%, ${c} )`,g=`color-mix( in srgb, var(--fl-controls-outline-color) 88%, ${c} )`,f=e=>CSS.supports("color",e),h={"--accent-color":f(u)?u:null,"--platter-bg-color":f(p)?p:null,"--platter-fg-color":f(d)?d:null,"--platter-focus-bg-color":f(m)?m:null,"--outline-color":f(g)?g:null};return i().createElement($,{button:e,buttonProps:{...o,showReset:t},ref:l},i().createElement("div",{style:{...h,"--bar-size":"44px","--panel-size":"300px",width:"var(--panel-size)",background:"var(--bg-color)",display:"grid",gridTemplateRows:"var(--bar-size) minmax( 0, calc( var(--panel-size) + var(--bar-size) ) ) var(--bar-size)",borderRadius:"var(--radius)"}},i().createElement(na,{filterTabs:r,defaultTab:n,onConnect:a})))}),pa=(0,s.forwardRef)(({value:e,onChange:t=()=>{},...r},n)=>i().createElement(la,{value:e,onChange:t},i().createElement(da,sa({ref:n},r)))),ma=({color:e="red",from:t=0,to:r=null})=>`${e} ${t}%${r?" "+r+"%":""}`,ga={type:"linear",colorSpace:"",angle:0,stops:[]},fa=e=>{const{type:t,colorSpace:r,angle:n,stops:a}={...ga,...e},o="string"==typeof a?a.split(",").map(e=>({color:e,from:0})):a,l=o.toSorted((e,t)=>e.from-t.from),s=l.map(ma).join(", ");let i="";return""!==r&&(i=`in ${r}`),"radial"===t||"repeating-radial"===t?(i+=" circle",`${t}-gradient(${i}, ${s} )`):"conic"===t||"repeating-conic"===t?`${t}-gradient(${i?i+",":""} ${(e=>e.toSorted((e,t)=>e.from-t.from).map(({color:e,from:t})=>`${e} ${N(t,0,100,0,360)}deg`).join(", "))(o)} )`:`${t}-gradient(${i} ${n||0}deg, ${s} )`};function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(null,arguments)}const ba=e=>e.toSorted((e,t)=>e.from-t.from),ya=({value:e=[],onChange:t,colorSpace:r})=>{const n=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(()=>{const[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(e)return e.addEventListener("wheel",S,{passive:!1}),()=>e.removeEventListener("wheel",S)},[e]),(0,s.useCallback)(t)})(),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(null),p=ba(e),g=fa({type:"linear",angle:90,colorSpace:r,stops:e}),f=p[0]?.color,b=p[p.length-1].color,y={color:null!==u?e[u].color:"#ff0000",from:0,to:null},v=()=>c(!1),w=r=>{l&&(r=>{a.current&&cancelAnimationFrame(a.current),requestAnimationFrame(()=>{const a="number"==typeof r.pageX?r.pageX:r.touches[0].pageX;if(n.current){const r=n.current.getBoundingClientRect(),o=a-r.left,l=Math.round(N(k(o,0,r.width),0,r.width,0,100));if(e[u].from!==l){const r=e.toSpliced(u,1,{...e[u],from:l});t(r)}}})})(r),r.stopPropagation()};(0,s.useEffect)(()=>{if(l){const e=window.top;return e.addEventListener("pointermove",w),e.addEventListener("pointerup",v),e.addEventListener("pointercancel",v),()=>{e.removeEventListener("pointermove",w),e.removeEventListener("pointerup",v),e.removeEventListener("pointercancel",v)}}},[l]);const E=()=>{2<e.length&&(t(e.filter((e,t)=>t!==u)),d(null))};return i().createElement(i().Fragment,null,i().createElement(I,{className:"fl-controls-gradient-stop-range",style:{width:"auto",height:""}},i().createElement("div",{className:"range-endcap",style:{background:f},onClick:()=>{const r=ba([...e,{...y}]);t(r)}}),i().createElement("div",{ref:n,className:"fl-controls-gradient-stops-wrapper",style:{background:g},onClick:r=>{const n="number"==typeof r.pageX?r.pageX:r.touches[0].pageX,a=r.target.getBoundingClientRect(),o=n-a.left,l=Math.round(N(k(o,0,a.width),0,a.width,0,100)),s=ba([...e,{...y,from:l}]);t(s)}},e.map((e,t)=>i().createElement("button",{key:`gradient-stop-${t}`,className:t===u?"is-selected":"","data-gradient-stop":t,onPointerDown:e=>(e=>{d(e),c(!0)})(t),onClick:e=>{e.stopPropagation()},onDoubleClick:e=>{E(),e.stopPropagation()},onFocus:()=>d(t),onKeyUp:e=>{"Escape"===e.key&&e.target.blur(),"Backspace"===e.key&&E(),e.stopPropagation()},style:{"--color":e.color,left:`${e.from}%`,zIndex:null!==u&&t===u?"1":""}},i().createElement("span",null)))),i().createElement("div",{className:"range-endcap",style:{background:b},onClick:()=>{const r=ba([...e,{...y,from:100}]);t(r)}})),null!==u&&i().createElement("div",{style:{display:"grid",gridTemplateColumns:"subgrid",gridColumn:"1/-1"}},i().createElement("div",{style:{flexGrow:1}},i().createElement(pa,{showReset:!1,value:e[u]?.color,onChange:r=>t(e.with(u,{...e[u],color:r}))})),i().createElement("input",{ref:o,type:"number",value:e[u]?.from,onChange:r=>t(e.with(u,{...e[u],from:r.target.value})),min:"0",max:"100"}),i().createElement("button",{className:"stop-remove-button",onClick:()=>{t(e.filter((e,t)=>t!==u)),d(null)}},i().createElement(m.Trash,null))),null===u&&i().createElement("div",{style:{display:"grid",gridColumn:"1/-1",placeContent:"center"}},h("Select Color Stop")))},va={linear:h("Linear"),radial:h("Radial"),conic:h("Conic")},wa={sRGB:"sRGB","srgb-linear":"Linear sRGB",oklab:"OKLAB",oklch:"OKLCH"},Ea=({value:e=ga,onChange:t=()=>{},style:r,...n})=>{const{type:a,colorSpace:o,angle:l}={...ga,...e};return i().createElement("div",ha({className:"fl-controls-gradient-picker",style:{display:"grid",gap:8,...r}},n),i().createElement(I,{style:{"--background":fa(e),gridColumn:"1/-1",aspectRatio:"3/2",width:"auto",height:"auto",borderRadius:8}}),i().createElement(ya,{value:Array.isArray(e.stops)?e.stops:[],onChange:r=>t({...e,stops:r}),colorSpace:o}),i().createElement("div",{className:"fl-controls-grid-table span-cols"},i().createElement("div",null,i().createElement("label",null,h("Type")),i().createElement(jo,{value:a,options:va,onChange:r=>t({...e,type:r.target.value})})),"linear"===a&&i().createElement("div",null,i().createElement("label",null,h("Angle")),i().createElement("input",{type:"number",min:"0",max:"360",step:"1",value:l,onChange:r=>t({...e,angle:r.target.value})})),i().createElement("div",null,i().createElement("label",null,h("Color Space")),i().createElement(jo,{value:o,options:wa,onChange:r=>t({...e,colorSpace:r.target.value})}))),i().createElement("div",null,i().createElement("button",{className:"fl-control fl-controls-button",style:{display:"grid",placeContent:"center"},title:h("Distribute color spots"),onClick:()=>{const r=ba(e.stops).map((t,r)=>({...t,from:Math.round(r*(100/(e.stops.length-1))),to:null}));t({...e,stops:r})}},i().createElement(m.SpaceAroundHorizontal,null))))},Ca=fa;function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sa.apply(null,arguments)}const{forEach:Ma}=FL.Builder.utils.objects,Ra=({attachmentId:e,url:t,onChange:r=()=>{},...n})=>{const[a,o]=(0,s.useState)({}),{getSizesForAttachment:l}=p(),i=((e,t={})=>{if(0<Object.keys(t).length){const r=Object.entries(t).find(([t,r])=>e===r.url);if(r)return r[0]}return""})(t,a);return(0,s.useEffect)(()=>{e&&l(e).then(e=>{void 0!==e&&0<Object.keys(e).length&&o(e)})},[e]),!e||!a||0>=Object.keys(a).length?null:React.createElement(jo,Sa({value:i,options:a,getLabel:({width:e,height:t},r)=>`${r} - ${e} x ${t}`,onChange:e=>r(a[e.target.value])},n))},xa={PickerButton:({attachmentId:e,url:t,onSelect:r=()=>{},onSizeSelect:n=()=>{},onRemove:a=()=>{},children:o,...l})=>{const{addSizesForAttachment:i}=p(),c=(0,s.useRef)(null),u=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=wp.media({title:h("Select Image"),library:{type:"image"},button:{text:h("Select")},multiple:!1});e.on("open",function(){if(!c.current){const e=this.$el.closest(".media-modal").get(0),t=e.parentElement;c.current=document.createElement("dialog"),c.current.classList.add("fl-controls-media-modal-dialog"),t.replaceChildren(c.current),c.current.append(e)}c.current&&c.current.showModal()},e),e.on("close",function(){c.current&&c.current.close()},e),e.on("select",()=>{const e=u.current.state().get("selection").first().toJSON();i(e.id,e.sizes),r(e)},e),u.current=e},[]),React.createElement("div",{style:{display:"grid",gridTemplateRows:"repeat(2, 36px)",gap:8}},React.createElement(Ra,{attachmentId:e,url:t,onChange:n}),React.createElement("div",{style:{display:"flex",gap:8}},React.createElement("button",{className:"fl-control fl-controls-button",onClick:()=>u.current?.open(),style:{flexGrow:1}},React.createElement("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none"},React.createElement("path",{d:"M3.27881 17.3462C1.33984 17.3462 0.365723 16.3906 0.365723 14.4795V3.14258C0.365723 1.23145 1.33984 0.266602 3.27881 0.266602H19.3286C21.2769 0.266602 22.2417 1.23145 22.2417 3.14258V14.4795C22.2417 16.3906 21.2769 17.3462 19.3286 17.3462H3.27881ZM15.7754 8.80176L20.748 13.4683V3.22607C20.748 2.26123 20.2285 1.76025 19.3101 1.76025H3.29736C2.36963 1.76025 1.85938 2.26123 1.85938 3.22607V13.4683L4.62402 10.9727C5.00439 10.6201 5.40332 10.4531 5.8208 10.4531C6.25684 10.4531 6.68359 10.6294 7.07324 10.9819L8.78955 12.5312L12.9829 8.7832C13.4097 8.40283 13.8643 8.22656 14.3745 8.22656C14.8755 8.22656 15.3672 8.42139 15.7754 8.80176ZM7.27734 8.89453C6.07129 8.89453 5.08789 7.91113 5.08789 6.70508C5.08789 5.5083 6.07129 4.51562 7.27734 4.51562C8.47412 4.51562 9.45752 5.5083 9.45752 6.70508C9.45752 7.91113 8.47412 8.89453 7.27734 8.89453Z",fill:"currentColor"})),h(e?"Replace":"Select Image")),e&&React.createElement("button",{className:"fl-control fl-controls-button",onClick:a,style:{flexGrow:1}},h("Remove"))))}};function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(null,arguments)}const Na=(0,s.forwardRef)(({as:e="div",title:t,description:r,thumb:n,thumbSize:a="sm",thumbProps:o={},className:l,isSelected:s=!1,hasIssues:i=!1,...c},u)=>{const d=n||o;return React.createElement(e,ka({ref:u,className:f()({"fl-controls-title-card":!0,"is-selected":s,"has-issues":i},l)},c),d&&React.createElement("div",ka({className:f()("card-visual",o.className)},o,{style:{"--size":"sm"===a?"30px":"36px",...o.style}}),!i&&n,i&&React.createElement(m.Alert,null)),React.createElement("div",{className:"card-text"},React.createElement("div",{className:"card-title"},t),r&&React.createElement("div",{className:"card-description"},r)))});function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(null,arguments)}const Oa={items:"li",cursor:"move",distance:3,opacity:.75,placeholder:"fl-sortable-placeholder",tolerance:"pointer",axis:"y",helper:"clone",start:()=>{},stop:()=>{},update:()=>{}},$a=({items:e=[],getId:t=e=>e.id,getItemProps:r=e=>e,sortConfig:n=Oa,empty:a,item:o,setItems:l,setItemOrder:c=()=>{},isItemEnabled:u=()=>!0,style:d,...p})=>{const[m,g]=(0,s.useState)(!1),f=0<e.length,h=(0,s.useRef)(null),b=((e={},t=[])=>(0,s.useCallback)(t=>{jQuery(t).sortable(e)},t))({...n,start:(e,t)=>{g(!0),n.start(e,t)},stop:(e,t)=>{g(!1),n.stop(e,t)},update:(t,r)=>{h.current&&cancelAnimationFrame(h.current),h.current=requestAnimationFrame(()=>{const a=jQuery(t.target).sortable("toArray",{attribute:"data-id"});c(a),"function"==typeof l&&l(Ba(e,a)),n.update(t,r)})}},[e]);return i().createElement("ul",Pa({ref:b,style:{listStyle:"none",margin:0,padding:0,...d}},p),!f&&i().createElement(a,null),f&&e.map((e,n)=>{if(!u(e))return null;const a=t(e,n);return i().createElement("li",{key:a,"data-id":a},i().createElement(w.Boundary,null,i().createElement(o,Pa({isDragging:m},r(e)))))}))};$a.defaultConfig=Oa;const Ba=(e,t)=>e.toSorted((e,r)=>{const n=t.findIndex(t=>t==e.id),a=t.findIndex(e=>e==r.id);return n<a?-1:n>a?1:0});$a.reorderByIds=Ba;const ja=$a;function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(null,arguments)}const{forEach:Ta}=FL.Builder.utils.objects,Aa=({defs:e,addItem:t,customAddMenu:r})=>{const[n,a]=(0,s.useState)(!1),o=((e=()=>{})=>{const t=(0,s.useRef)(null),r=r=>{r.composedPath().includes(t.current)||e(r)};return(0,s.useLayoutEffect)(()=>(window.parent.addEventListener("pointerdown",r),()=>window.parent.removeEventListener("pointerdown",r)),[]),t})(()=>a(!1)),l=1<Object.keys(e).length,c=({addItem:t})=>Ta(e,(e,r)=>i().createElement("li",{key:e},i().createElement("button",{onClick:()=>{t(r.createItem())}},r.label)));return i().createElement("div",{className:"fl-series-add-button"},i().createElement("button",{onClick:o=>{if(o.stopPropagation(),l||r)a(!n);else{const r=e[Object.keys(e)[0]];"function"==typeof r?.createItem&&t(r.createItem())}}},i().createElement(m.Plus,null)),n&&(l||r)&&i().createElement("ul",{ref:o,className:"fl-series-add-button-menu "},r?i().createElement(r,{addItem:t,closeMenu:()=>a(!1)}):i().createElement(c,{addItem:t})))},Ia=({emptyMessage:e=h("No Items"),className:t,...r})=>i().createElement("div",La({className:f()("fl-series-empty",t)},r),e),{objectMap:za}=FL.Builder.utils.objects,_a={name:"",label:"",type:"text",default:""},Fa=e=>({..._a,...e}),Da=(e=[])=>e.map(Fa),Ha={label:"Untitled",titleField:"",descriptionField:"",thumbnailField:"",content:({item:e,setItem:t,definition:r,state:n,setState:a,...o})=>i().createElement(Na,o),fields:[]},Ga={custom:{label:"Custom",titleField:"title",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Descrition",type:"text"}]},text:{label:h("Text"),titleField:"title",fields:[{name:"title",label:"Title",type:"text"}]}},qa=(e,t)=>{const r={...Ha,...t};return{...r,name:e,fields:Da(r.fields),createItem:(n={})=>{let a={};for(let e in r.fields){const t=r.fields[e];let o="";void 0!==n.state?.[t.name]?o=n.state[t.name]:t.default&&(o=t.default),a[t.name]=o}const o={id:n.id?n.id:Date.now(),type:e,state:a};return"function"==typeof t.createItem?t.createItem(o):o},getState:"function"==typeof r.getState?r.getState:(e={})=>({...Va(r),...e.state}),getTitle:"function"==typeof r.getTitle?r.getTitle:e=>void 0!==e.state[r.titleField]&&""!==e.state[r.titleField]?e.state[r.titleField]:r.label,getDescription:"function"==typeof r.getDescription?r.getDescription:e=>void 0===e.state[r.titleField]||""===e.state[r.titleField]?null:""===r.descriptionField?r.label:e.state[r.descriptionField]}},Wa=(e,t={})=>{const r=Object.keys(t),n=t[r[0]];return""!==e&&r.includes(e)?t[e]:n},Va=e=>{let t={};for(let r in e.fields){const{name:n,default:a=""}=e.fields[r];t[n]=a}return t},Xa={id:"",type:"",state:{}},Ya=({item:e,setItem:t,definition:r,setDefinition:n,canCustomize:a=!1,cloneItem:o,deleteItem:l})=>{const{content:s,getTitle:i,getDescription:c}=r;return React.createElement(React.Fragment,null,React.createElement(w.Boundary,null,React.createElement(s,{title:i(e),description:c(e),item:e,setItem:t,definition:r,state:e.state,setState:r=>t({...e,state:r}),style:{paddingLeft:20}})),React.createElement("div",{className:"fl-series-item-actions"},React.createElement("div",{style:{display:"grid",placeContent:"center start"}},React.createElement("svg",{width:"10",height:"19",viewBox:"0 0 10 19",fill:"none",style:{marginRight:"auto"}},React.createElement("path",{d:"M2 2H8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M2 7H8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M2 12H8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),React.createElement("path",{d:"M2 17H8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}))),React.createElement("button",{onClick:t=>{t.preventDefault(),o(e)}},React.createElement(m.Clone,null)),React.createElement("button",{onClick:t=>{t.preventDefault(),l(e.id)}},React.createElement(m.Trash,null))))},Za=({items:e=[],setItems:t=()=>{},definitions:r={},setDefinitions:n=!1,appearance:a="compact",empty:o=Ia,appendNewItems:l="after",toolbarPosition:s="before",toolbarItems:i,canReset:c=!0,canAdd:u=!0,cloneItem:d,deleteItem:p,clearItems:m,customAddMenu:g,className:b})=>{const y=((e={},t=!1)=>{const r=Ga;if(0>=e.length)return t?za(r,qa):{};const n=t?{...r,...e}:e;return za(n,qa)})(r),v=((e=[],t={})=>e.map(e=>((e,t={})=>({...Xa,...e,state:t.getState(e)}))(e,Wa(e.type,t))))(e,y),w=()=>{if("function"==typeof m)return m();t([])},E=e=>{if("function"==typeof d)return d(e.id,e);const r={...e,id:Date.now()},n=v.findIndex(t=>t.id===e.id);t(v.toSpliced(n+1,0,r))},C=e=>{if("function"==typeof p)return p(e);t(v.filter(t=>e!==t.id))},S=e=>{const r=v.findIndex(t=>t.id===e.id);t(v.with(r,e))},M=(e,t)=>{"function"==typeof n&&n({...y,[e]:{...y[e],...t}})},R=()=>React.createElement("div",{className:"fl-series-toolbar"},i,React.createElement("div",null),c&&React.createElement("button",{onClick:w},h("Clear")),u&&React.createElement(Aa,{defs:y,addItem:e=>{const r="before"===l?[e,...v]:[...v,e];t(r)},customAddMenu:g}));return React.createElement("div",{className:f()({"fl-controls-series":!0,[`fl-appearance-${a}`]:a,[`toolbar-position-${s}`]:s},b)},"before"===s&&React.createElement(R,null),React.createElement(ja,{className:"fl-controls-series-list",items:v,setItems:t,item:Ya,getItemProps:e=>({item:e,setItem:S,definition:Wa(e.type,y),setDefinition:M,cloneItem:E,deleteItem:C,canCustomize:!1!==n}),empty:o,isItemEnabled:e=>Object.keys(y).includes(e.type)}),"after"===s&&React.createElement(R,null))};Za.TitleCard=Na;const Ja=Za,Ua=wp.hooks;function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ka.apply(null,arguments)}const Qa=({type:e="text",value:t,className:r,onChange:n,...a})=>React.createElement("input",Ka({className:f()("fl-controls-input",r),type:e,value:t,onInput:n},a)),eo={color:pa};(0,Ua.addFilter)("fl_controls_input_component","fl-controls",(e,t="")=>void 0!==eo[t]?eo[t]:e);const to=e=>{const{type:t,...r}=e,n=(0,Ua.applyFilters)("fl_controls_input_component",Qa,t,e);return React.createElement(s.Suspense,null,React.createElement(w.Boundary,null,React.createElement(n,r)))},ro=e=>{let t=[];const r={image:"",attachment:"",position:"",size:"",...e};return Array.isArray(e)?e.map(ro).join(", \n\t"):"string"==typeof e?e:(["fixed","scroll","local"].includes(r.attachment)&&t.push(r.attachment),""!==r.image&&t.push(r.image),""!==r.position&&""===r.size&&t.push(r.position),""!==r.repeat&&["repeat","no-repeat","space","round","repeat-x","repeat-y"].includes(r.repeat)&&t.push(r.repeat),t.join(" "))},no=e=>CSS.supports("background",e),ao=e=>/\[([^\]]+)\]/.test(e),oo={getCSS:({state:e})=>ro(e)};function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}const so={...oo,label:h("Color"),createItem:e=>({...e,state:{color:"deepskyblue"}}),getCSS:({state:e})=>`linear-gradient(${e.color}, ${e.color})`,content:({state:e,setState:t})=>{const r=(0,s.forwardRef)(({showReset:t,...r},n)=>i().createElement(Na,lo({ref:n,as:"button",style:{paddingLeft:20},title:e.color?e.color:"Choose Color...",thumbProps:{style:{backgroundColor:e.color}}},r)));return i().createElement(to,{type:"color",value:e.color,onChange:e=>t({color:e}),buttonComponent:r})}};function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(null,arguments)}const co=({state:e,setState:t})=>i().createElement(Ea,{value:e,onChange:t}),uo={...oo,label:h("Gradient"),getCSS:({state:e})=>Ca(e),content:({state:e,setState:t})=>{const r=(0,s.forwardRef)((t,r)=>i().createElement(Na,io({ref:r,style:{paddingLeft:20},title:e.type?`${e.type} gradient`:"Select Gradient...",thumbProps:{style:{background:Ca(e)}}},t)));return i().createElement($,{button:r,dialogProps:{className:"fl-controls-gradient-picker-dialog"}},i().createElement(co,{state:e,setState:t}))},createItem:e=>({...e,state:{type:"linear",angle:0,colorSpace:"oklch",stops:[{from:0,color:"hwb(328 0% 10% )"},{from:100,color:"hwb(187 0% 1% )"}]}})};function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},po.apply(null,arguments)}const{forEach:mo}=FL.Builder.utils.objects,go={sourceType:"media",mediaAttachment:{id:null,url:""},svg:"",url:"",repeat:"repeat",position:"",size:"",clip:"",attachment:""},fo=({state:e})=>{const{sourceType:t,mediaAttachment:r,url:n,svg:a,attachment:o,repeat:l,position:s,size:i,clip:c}={...go,...e};let u=[];if(!n&&!a&&!r.url)return"";o&&""!==o&&u.push(o),c&&u.push(c);let d="";if("url"===t&&""!==n?d=` url(${n})`:"media"===t&&r.url?d=` url(${r.url})`:"svg"===t&&""!==a&&(d=` url('data:image/svg+xml;utf8,${a.replaceAll("\n","").replaceAll("\t","").replaceAll('"#','"%23')}')`),!d)return"";if(u.push(d),l&&u.push(l),s){let e=s;i&&(e+=" / "+i),u.push(e)}return u.map(e=>e.trim()).join(" ")},ho={...oo,label:h("Photo"),content:({state:e,setState:t})=>{const{sourceType:r,mediaAttachment:n,svg:a,url:o,repeat:l,position:i,size:c,clip:u,attachment:d}={...go,...e},p=fo({state:e})??"",m=(0,s.forwardRef)((e,t)=>React.createElement(Na,po({ref:t,as:"button",style:{paddingLeft:20},title:"Photo",thumbProps:{style:{background:p}}},e))),g={media:h("Media Library"),url:h("URL"),svg:h("SVG")};return React.createElement($,{button:m,dialogProps:{className:"fl-controls-photo-picker-dialog"}},React.createElement("div",{style:{boxSizing:"border-box",display:"grid",gridTemplateColumns:"repeat(2, minmax(0,1fr))",gap:16,width:300,height:600,padding:16,placeContent:"start stretch",overflow:"auto"}},React.createElement("div",{style:{gridColumn:"1/-1"}},React.createElement(I,{style:{"--size":"auto",aspectRatio:"3/2",position:"relative",overflow:"hidden"}},React.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",background:p}}))),React.createElement("div",{className:"fl-controls-button-group",style:{gridColumn:"1/-1"}},mo(g,(n,a)=>React.createElement("button",{key:n,className:n===r?"is-selected":"",onClick:()=>(r=>t({...e,sourceType:r}))(n)},a))),React.createElement("div",{style:{gridColumn:"1/-1",display:"grid"}},"media"===r&&React.createElement(xa.PickerButton,{attachmentId:n.id,url:n.url,onSelect:r=>{t({...e,mediaAttachment:{id:r.id,url:r.url}})},onSizeSelect:r=>{t({...e,mediaAttachment:{...e.mediaAttachment,url:r.url}})},onRemove:()=>{t({...e,mediaAttachment:{...go.mediaAttachment}})},style:{height:50}}),"url"===r&&React.createElement("textarea",{value:o,onChange:r=>t({...e,url:r.target.value}),rows:7,style:{resize:"vertical"}}),"svg"===r&&React.createElement("textarea",{value:a,onChange:r=>t({...e,svg:r.target.value}),rows:10,style:{resize:"vertical"}})),React.createElement("div",{className:"fl-controls-grid-table",style:{gridColumn:"1/-1"}},React.createElement("div",null,React.createElement("label",null,h("Repeat")),React.createElement(jo,{value:l,onChange:r=>t({...e,repeat:r.target.value}),options:{"no-repeat":h("No Repeat"),repeat:h("Repeat"),"repeat-x":h("Repeat Horizonal"),"repeat-y":h("Repeat Vertical"),space:h("Space"),round:h("Round")}})),React.createElement("div",null,React.createElement("label",null,h("Position")),React.createElement(jo,{value:i,onChange:r=>t({...e,position:r.target.value}),options:{"left top":h("Top Left"),"center top":h("Top Center"),"right top":h("Top Right"),"left center":h("Center Left"),center:h("Center"),"right center":h("Center Right"),"left bottom":h("Bottom Left"),"center bottom":h("Bottom Center"),"right bottom":h("Bottom Right")}})),React.createElement("div",null,React.createElement("label",null,h("Size")),React.createElement(jo,{value:c,onChange:r=>t({...e,size:r.target.value}),options:{"":h("Default Size"),cover:h("Cover"),contain:h("Contain")}})),React.createElement("div",null,React.createElement("label",null,h("Clip To")),React.createElement(jo,{value:u,onChange:r=>t({...e,clip:r.target.value}),options:{"border-box":h("Border"),"padding-box":h("Padding"),"content-box":h("Content")}})))))},getCSS:fo,createItem:e=>({...e,state:{...go,...e.state}})};function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(null,arguments)}const yo=({label:e,children:t,style:r,...n})=>i().createElement("div",bo({style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,placeContent:"center",alignItems:"center",...r}},n),i().createElement("label",{style:{margin:0}},e),t),vo={label:h("Rings"),defaultState:{bgColor:"#000",spacing:5},controls:({state:e,setStateProp:t})=>i().createElement(i().Fragment,null,i().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},i().createElement("label",null,h("Background")),i().createElement(to,{type:"color",value:e.bgColor,onChange:e=>t("bgColor",e)})),i().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},i().createElement("label",null,h("Spacing")),i().createElement(to,{type:"range",value:e.spacing,onChange:e=>t("spacing",e.target.value)}))),getCSS:({bgColor:e="#000",spacing:t=5})=>{const r=t+"px";return`repeating-radial-gradient(circle at center,\n\t\t\t${e},\n\t\t\t${r},\n\t\t\t${e},\n\t\t\t0,\n\t\t\t#0000,\n\t\t\tcalc( ${r} * 2),\n\t\t\t#0000 0\n\t\t)`}},wo={label:h("Stripes"),defaultState:{color:"transparent",bgColor:"black",weight:10,angle:45},controls:({state:e,setStateProp:t})=>i().createElement(i().Fragment,null,i().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},i().createElement("label",null,h("Foreground")),i().createElement(to,{type:"color",value:e.color,onChange:e=>t("color",e)})),i().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},i().createElement("label",null,h("Background")),i().createElement(to,{type:"color",value:e.bgColor,onChange:e=>t("bgColor",e)})),i().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},i().createElement("label",null,h("Weight")),i().createElement(to,{type:"range",value:e.weight,onChange:e=>t("weight",e.target.value)})),i().createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16}},i().createElement("label",null,h("Angle")),i().createElement(to,{type:"range",value:e.angle,onChange:e=>t("angle",e.target.value),min:0,max:360,step:1}))),getCSS:({color:e,bgColor:t,weight:r,angle:n})=>`repeating-linear-gradient(${n}deg, ${e}, ${e} ${r}px, ${t} ${r}px, ${t} ${5*r+"px"})`},Eo={label:h("Sunburst"),defaultState:{color:"#000",density:5},controls:({state:e,setStateProp:t})=>i().createElement(i().Fragment,null,i().createElement(yo,{label:h("Color")},i().createElement(i().Fragment,null,i().createElement(to,{type:"color",value:e.color,onChange:e=>t("color",e)}))),i().createElement(yo,{label:h("Density"),style:{gridTemplateColumns:"1fr 1fr"}},i().createElement(i().Fragment,null,i().createElement(to,{type:"range",value:e.density,onChange:e=>t("density",e.target.value),min:0,max:10,step:.5})))),getCSS:({density:e,color:t})=>`repeating-conic-gradient(${t} 0 ${e}%,transparent 0 10%)`},Co={label:h("Dots"),defaultState:{color:"#000",size:15,spacing:60},controls:({state:e,setStateProp:t})=>i().createElement(i().Fragment,null,i().createElement(yo,{label:h("Color")},i().createElement(i().Fragment,null,i().createElement(to,{type:"color",value:e.color,onChange:e=>t("color",e)}))),i().createElement(yo,{label:h("Size")},i().createElement(i().Fragment,null,i().createElement(to,{type:"range",value:e.size,onChange:e=>t("size",e.target.value),min:0,max:50,step:1}))),i().createElement(yo,{label:h("Spacing")},i().createElement(i().Fragment,null,i().createElement(to,{type:"range",value:e.spacing,onChange:e=>t("spacing",e.target.value),min:0,max:200,step:1})))),getCSS:({color:e,size:t,spacing:r})=>`radial-gradient(${e} ${t}%, transparent ${t}%) 0 0 / ${r}px ${r}px,\n\t\t\t\tradial-gradient(${e} ${t}%, transparent ${t}%) ${r/2}px ${r/2}px / ${r}px ${r}px`},So={label:h("Triangles"),defaultState:{angle:115,size:30,color:"black"},controls:({state:e,setStateProp:t})=>i().createElement(i().Fragment,null,i().createElement(yo,{label:h("Color")},i().createElement(i().Fragment,null,i().createElement(to,{type:"color",value:e.color,onChange:e=>t("color",e)}))),i().createElement(yo,{label:h("Size")},i().createElement(i().Fragment,null,i().createElement(to,{type:"range",value:e.size,onChange:e=>t("size",e.target.value),min:0,max:200,step:1}))),i().createElement(yo,{label:h("Angle")},i().createElement(i().Fragment,null,i().createElement(to,{type:"range",value:e.angle,onChange:e=>t("angle",e.target.value),min:0,max:360,step:1})))),getCSS({color:e,size:t}){const r=`${t/2}px ${t}px`;return`linear-gradient(115deg, transparent 75%, ${e} 75%) 0 0 / ${r},\n\t\t\t\t\t linear-gradient(245deg, transparent 75%, ${e} 75%) 0 0 / ${r},\n\t\t\t\t\t linear-gradient(115deg, transparent 75%, ${e} 75%) ${t/4}px -${t/2}px / ${r},\n\t\t\t\t\t linear-gradient(245deg, transparent 75%, ${e} 75%) ${t/4}px -${t/2}px / ${r}`}},{forEach:Mo}=FL.Builder.utils.objects,Ro=(h("Unnamed Pattern"),Object.keys(a)[0],h("Pattern"),{color:so,gradient:uo,image:ho}),{forEach:xo}=FL.Builder.utils.objects,ko=e=>((e=[],t)=>!e||"string"==typeof e||0>=e.length?"":e.map(e=>{if(!e||void 0===t[e.type])return null;const r=t[e.type].getCSS(e);return ao(r)?(FLBuilder.preview?.delayPreview(),r.trim()):no(r)?r.trim():null}).filter(e=>null!==e).join(", "))(e,Ro),No=()=>React.createElement("div",{className:"fl-series-empty"},h("Click + to add layers")),Po=({value:e=[],onChange:t=()=>{}})=>{const r=Array.isArray(e)?e:[];return React.createElement(Ja,{items:r,setItems:t,definitions:Ro,appendNewItems:"before",empty:No,toolbarItems:null})};function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(null,arguments)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}const{forEach:Bo}=FL.Builder.utils.objects,jo=({className:e,options:t={},getLabel:r=e=>e,...n})=>React.createElement("select",$o({className:f()("fl-control",e)},n),Bo(t,(e,t)=>React.createElement("option",{key:e,value:e},r(t,e))));function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}const To=({className:e,vertical:t=!1,style:r,...n})=>React.createElement("input",Lo({type:"range",className:`fl-range-input ${e}`,style:{writingMode:!0===t?"vertical-lr":null,...r}},n)),Ao={name:"color",label:"Color",content:({name:e,value:t,setValue:r,field:n,getFieldElement:a})=>{const o=(0,s.useRef)(null),l=(0,s.useRef)(null),{show_alpha:c=!0,show_reset:u=!0}=n,d=(e=>!CSS.supports("color",e)&&CSS.supports("color","#"+e)?"#"+e:e)(t);return(0,s.useEffect)(()=>{const e=l.current;if(!e)return;let t=e.value;return Object.defineProperty(e,"value",{get:()=>t,set(e){e!==t&&(t=e,r(e))},configurable:!0}),e.value=e.value,()=>{delete e.value}},[r]),i().createElement(i().Fragment,null,i().createElement(pa,{ref:o,value:d,showAlpha:c,showReset:u,onChange:e=>{r(e),l.current.value=e,jQuery(l.current).trigger("change")},onConnect:({uid:t,isGlobalColor:r})=>{if(void 0!==FLThemeBuilderFieldConnections){const n=e.replace(/_(large|medium|responsive)$/,""),l=jQuery(a(n)),s=r?"global_color_"+t:"theme_color_"+t,i=FLBuilderConfig.globalColorLabels[s],c={property:s,object:"site",field:"color",settings:null};FLThemeBuilderFieldConnections._connectField(l,i,c),o.current.close()}}}),i().createElement("input",{ref:l,type:"hidden",name:e,value:d,className:"fl-color-picker-value fl-react-color-picker-value"}))}},Io={layers:[],css:""},zo={name:"background",label:"Background",content:({name:e,value:t=Io,setValue:r})=>{const n=t||Io,a=(0,s.useRef)(),o=(0,s.useRef)();return(0,s.useEffect)(()=>{o.current&&""===n.css&&r({...n,css:ko(n.layers)})},[]),i().createElement(i().Fragment,null,i().createElement(Po,{type:"background",value:Array.isArray(n.layers)?n.layers:[],onChange:e=>{const t=ko(e);r({layers:e,css:t}),((e,t)=>{a.current.value=JSON.stringify(e),o.current.value=t,jQuery(o.current).trigger("change")})(e,t)}}),i().createElement("input",{type:"hidden",name:`${e}[layers]`,value:Array.isArray(n.layers)?JSON.stringify(n.layers):"[]",ref:a}),i().createElement("input",{type:"hidden",name:`${e}[css]`,value:n.css,ref:o}))}};window.FL=window.FL||{},FL.controls=Object.freeze({useControlsStore:p,createFormStore:(e=[])=>{const t=((e,t={})=>{let r=e,n=new Set;const a=e=>(n.add(e),()=>n.delete(e)),o=()=>r,l=e=>{r=e,n.forEach(e=>e())};let i={subscribe:a,getSnapshot:o,setState:l,useExternalState:()=>[(0,s.useSyncExternalStore)(a,o),l]};for(let e in t){const r=t[e];i[e]=(...e)=>l(r(o(),...e))}return i})(Array.isArray(e)?e:[e],{setForm:(e,t)=>[t],pushForm:(e,t)=>[...e,t],updateForms:(e,t)=>t,pop:e=>e.toSpliced(-1,1),reset:()=>[],setCurrentForm:(e,t={})=>e.toSpliced(-1,1,t)});return t.useFormState=t.useExternalState,t},Color:t,Background:o,Gradient:n,Dialog:C,DialogButton:$,Error:w,Section:({as:e="div",title:t,className:r,children:n,...a})=>React.createElement(e,Oo({className:f()("fl-controls-section",r)},a),t&&React.createElement("div",{className:"fl-controls-section-title-bar"},React.createElement("div",{className:"fl-controls-section-title"},t)),React.createElement("div",{className:"fl-controls-section-content"},n)),Series:Ja,Input:to,fieldTypes:l})})()})();